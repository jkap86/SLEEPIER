"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[634,1],{6001:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var t=a(6261),l=a(184);const n=()=>(0,l.jsxs)("div",{className:"loading",children:[(0,l.jsx)("img",{className:"loading",src:t,alt:"logo"}),(0,l.jsx)("div",{className:"z_one",children:"Z"}),(0,l.jsx)("div",{className:"z_two",children:"Z"}),(0,l.jsx)("div",{className:"z_three",children:"Z"})]})},6950:(e,s,a)=>{a.d(s,{Z:()=>o});var t=a(7716),l=a(9434),n=a(78),i=a(2791),r=a(184);const o=e=>{var s,a;let{league:o,trade_value_date:d,current_value_date:c}=e;(0,l.I0)();const[u,v]=(0,i.useState)(""),p=o.rosters.find((e=>e.roster_id===u)),m=null===(s=o.rosters)||void 0===s||null===(a=s.map((e=>({roster_id:e.roster_id,username:e.username,avatar:e.avatar,wins:e.settings.wins,losses:e.settings.losses,ties:e.settings.ties,fpts:parseFloat(e.settings.fpts+"."+e.settings.fpts_decimal),fpts_against:parseFloat(e.settings.fpts_against+"."+e.settings.fpts_against_decimal)}))))||void 0===a?void 0:a.sort(((e,s)=>s.wins-e.wins||s.fpts-e.fpts)),g=null===m||void 0===m?void 0:m.map(((e,s)=>{const a=m.find((s=>s.roster_id===e.roster_id));return{id:e.roster_id,list:[{text:e.username||"Orphan",colSpan:5,className:"left",image:{src:e.avatar,alt:"user avatar",type:"user"}},{text:"".concat(a.wins,"-").concat(a.losses).concat(a.ties>0?"-".concat(a.ties):""),colSpan:2},{text:a.fpts.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),colSpan:3}]}}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.Z,{type:"secondary half",headers:[[{text:"Manager",colSpan:5},{text:"Record",colSpan:2},{text:"FP",colSpan:3}]],body:g,itemActive:u,setItemActive:e=>v(e)}),p?(0,r.jsx)(n.Z,{type:"secondary half",league:o,roster:p,module:"Leagues",trade_value_date:d,current_value_date:c}):(0,r.jsx)(t.Z,{type:"secondary half",headers:[[]],body:[]})]})}},9634:(e,s,a)=>{a.d(s,{y:()=>t});const t=(e,s,a)=>(e||[]).filter((e=>{let t,l;switch(s){case"Redraft":t=2!==e.settings.type;break;case"All":default:t=!0;break;case"Dynasty":t=2===e.settings.type}switch(a){case"Bestball":l=1===e.settings.best_ball;break;case"All":default:l=!0;break;case"Lineup":l=1!==e.settings.best_ball}return t&&l}))},7805:(e,s,a)=>{a.d(s,{K:()=>t});const t=(e,s)=>null===e||void 0===e?void 0:e.find((e=>{var a;return e.user_id===s||(null===(a=e.co_owners)||void 0===a?void 0:a.find((e=>(null===e||void 0===e?void 0:e.user_id)===s)))}))},6036:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(2791),l=a(9434),n=a(8852);const i=()=>{const e=(0,l.I0)(),{user_id:s,lmplayershares:a}=(0,l.v9)((e=>e.user));console.log({lmplayershares:a}),(0,t.useEffect)((()=>{s&&!a&&e((0,n.SD)(s))}),[s,a,e])}},8919:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(7716),l=a(9434),n=a(6549),i=a(1499),r=a(9634),o=a(758),d=a(184);const c=e=>{var s;let{secondaryTable:a}=e;const c=(0,l.I0)(),{userPlayerShares:u,type1:v,type2:p,username:m}=(0,l.v9)((e=>e.user)),{state:g,allplayers:_}=(0,l.v9)((e=>e.common)),{page:h,itemActive:y,searched:x,filters:f,sortBy:S}=(0,l.v9)((e=>e.players)),j=[[{text:"Player",colSpan:10},{text:(0,d.jsxs)("div",{className:"sort",children:[(0,d.jsx)("span",{children:"Owned"}),(0,d.jsx)("i",{onClick:()=>c((0,o.P_)({sortBy:"Owned"})),className:"fa-solid fa-sort"})]}),colSpan:5},{text:(0,d.jsxs)("div",{className:"sort",children:[(0,d.jsx)("span",{children:m}),(0,d.jsx)("i",{onClick:()=>c((0,o.P_)({sortBy:"winpct_user"})),className:"fa-solid fa-sort"})]}),colSpan:7},{text:(0,d.jsxs)("div",{className:"sort",children:[(0,d.jsx)("span",{children:"Leaguemates"}),(0,d.jsx)("i",{onClick:()=>c((0,o.P_)({sortBy:"winpct_lm"})),className:"fa-solid fa-sort"})]}),colSpan:7}]],b=null===(s=u||[])||void 0===s?void 0:s.filter((e=>{var s,a,t,l,n,i;return e&&(e.id.includes(" ")||(null===_||void 0===_?void 0:_[e.id]))&&(!(null!==x&&void 0!==x&&x.id)||(null===x||void 0===x?void 0:x.id)===e.id)&&(f.position===(null===_||void 0===_||null===(s=_[e.id])||void 0===s?void 0:s.position)||f.position.split("/").includes(null===_||void 0===_||null===(a=_[e.id])||void 0===a||null===(t=a.position)||void 0===t?void 0:t.slice(0,1))||"Picks"===f.position&&(null===(l=e.id)||void 0===l?void 0:l.includes(" ")))&&("All"===f.team||(null===_||void 0===_||null===(n=_[e.id])||void 0===n?void 0:n.team)===f.team)&&("All"===f.draftClass||parseInt(f.draftClass)===g.league_season-(null===_||void 0===_||null===(i=_[parseInt(e.id)])||void 0===i?void 0:i.years_exp))})).map((e=>{var s,t,l,o,c,u,m,g,h,y;let x,f;if(null!==(s=e.id)&&void 0!==s&&s.includes("_")){const s=e.id.split("_");x="".concat(s[0]," ").concat(s[1],".").concat(s[2].toLocaleString("en-US",{minimumIntegerDigits:2})),f="".concat(s[0]," ").concat(parseInt(s[2])<=4?"Early":parseInt(s[2])>=9?"Late":"Mid"," ").concat(s[1])}const S=(0,r.y)(e.leagues_owned,v,p),j=(0,r.y)(e.leagues_taken,v,p),b=(0,r.y)(e.leagues_available,v,p),w=S.reduce(((e,s)=>({wins:e.wins+(s.userRoster.settings.wins||0),losses:e.losses+(s.userRoster.settings.losses||0),ties:e.ties+(s.userRoster.settings.ties||0),fp:e.fp+parseFloat((s.userRoster.settings.fpts||0)+"."+(s.userRoster.settings.fpts_decimal||0)),fpa:e.fp+parseFloat((s.userRoster.settings.fpts_against||0)+"."+(s.userRoster.settings.fpts_against_decimal||0))})),{wins:0,losses:0,ties:0,fp:0,fpa:0}),k="".concat(w.wins,"-").concat(w.losses)+(w.ties>0?"-".concat(w.ties):""),N=w.wins+w.losses+w.ties>0?(w.wins/(w.wins+w.losses+w.ties)).toFixed(4):"-",R=j.reduce(((e,s)=>({wins:e.wins+(s.lmRoster.settings.wins||0),losses:e.losses+(s.lmRoster.settings.losses||0),ties:e.ties+(s.lmRoster.settings.ties||0),fp:e.fp+parseFloat((s.lmRoster.settings.fpts||0)+"."+(s.userRoster.settings.fpts_decimal||0)),fpa:e.fp+parseFloat((s.lmRoster.settings.fpts_against||0)+"."+(s.userRoster.settings.fpts_against_decimal||0))})),{wins:0,losses:0,ties:0,fp:0,fpa:0}),A="".concat(R.wins,"-").concat(R.losses)+(R.ties>0?"-".concat(R.ties):""),F=R.wins+R.losses+R.ties>0?(R.wins/(R.wins+R.losses+R.ties)).toFixed(4):"-",P=e.id;return{id:e.id,owned:(null===S||void 0===S?void 0:S.length)||0,winpct_user:parseFloat(N)||0,winpct_lm:parseFloat(F)||0,search:{text:(null===_||void 0===_?void 0:_[e.id])&&"".concat(null===_||void 0===_||null===(t=_[e.id])||void 0===t?void 0:t.full_name," ").concat(null===_||void 0===_||null===(l=_[e.id])||void 0===l?void 0:l.position," ").concat((null===_||void 0===_||null===(o=_[e.id])||void 0===o?void 0:o.team)||"FA")||x,image:{src:e.id,alt:"player photo",type:"player"}},list:[{text:null!==(c=e.id)&&void 0!==c&&c.includes("_")?x:"".concat(null===_||void 0===_||null===(u=_[e.id])||void 0===u?void 0:u.position," ").concat(null===_||void 0===_||null===(m=_[e.id])||void 0===m?void 0:m.full_name," ").concat(null!==(g=e.id)&&void 0!==g&&g.includes("_")?"":(null===_||void 0===_||null===(h=_[e.id])||void 0===h?void 0:h.team)||"FA")||"INACTIVE PLAYER",colSpan:10,className:"left",image:{src:null!==_&&void 0!==_&&_[e.id]?e.id:i,alt:(null===_||void 0===_||null===(y=_[e.id])||void 0===y?void 0:y.full_name)||e.id,type:"player"}},{text:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("span",{children:null===S||void 0===S?void 0:S.length.toString()}),(0,d.jsx)("em",{children:((null===S||void 0===S?void 0:S.length)/(S.length+b.length+b.length)*100).toFixed(1)+"%"})]}),colSpan:5},{text:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("p",{className:"stat",style:(0,n.y)(N-.5,5e-4),children:k}),(0,d.jsx)("em",{children:(0,d.jsx)("p",{className:"stat",style:(0,n.y)(N-.5,5e-4),children:N})})]}),colSpan:7,className:"stat"},{text:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("p",{className:"stat",style:(0,n.y)(F-.5,5e-4),children:A}),(0,d.jsx)("em",{children:(0,d.jsx)("p",{className:"stat",style:(0,n.y)(F-.5,5e-4),children:F})})]}),colSpan:7,className:"stat"}],secondary_table:a({leagues_owned:S,leagues_taken:j,leagues_available:b,player_id:P})}})).sort(((e,s)=>"Owned"===S&&s.owned-e.owned||"winpct_user"===S&&s.winpct_user-e.winpct_user||"winpct_lm"===S&&s.winpct_lm-e.winpct_lm));return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(t.Z,{id:"Players",type:"primary",headers:j,body:b,page:h,setPage:e=>c((0,o.P_)({page:e})),itemActive:y,setItemActive:e=>c((0,o.P_)({itemActive:e})),searched:x,setSearched:e=>c((0,o.P_)({searched:e}))})})};var u=a(2791);const v=()=>{const e=(0,l.I0)(),{user_id:s,leagues:a}=(0,l.v9)((e=>e.user)),{userPlayerShares:t}=(0,l.v9)((e=>e.players));(0,u.useEffect)((()=>{a&&!t&&(console.log("dispatching fetch ps"),e((0,o._Y)(a,s)))}),[e,s,a,t])};var p=a(6036);const m=e=>{let{secondaryTable:s}=e;return v(),(0,p.Z)(),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c,{secondaryTable:s})})};var g=a(6001);const _=e=>{var s,a;let{leagues_owned:i,leagues_taken:c,leagues_available:v,player_id:p,secondaryTable:m}=e;const _=(0,l.I0)(),{type1:h,type2:y,lmplayershares:x,isLoadingPS:f}=(0,l.v9)((e=>e.user)),{tabSecondary:S,searchedSecondary:j}=(0,l.v9)((e=>e.players)),[b,w]=(0,u.useState)(1),[k,N]=(0,u.useState)("");console.log({lmplayershares:x});let R=[[{text:"League",colSpan:3,className:"half"},{text:"Rank",colSpan:1}]];"Taken"===S&&R[0].push({text:"Manager",colSpan:2},{text:"Rank",colSpan:1});const A=(0,u.useMemo)((()=>{var e,s;let a;switch("".concat(h,"-").concat(y)){case"All-All":a=["all"];break;case"Redraft-All":a=["r_b","r_s"];break;case"Dynasty-All":a=["d_b","d_s"];break;case"All-Bestball":a=["r_b","d_b"];break;case"All-Lineup":a=["r_s","d_s"]}return null===(e=x||[])||void 0===e||null===(s=e.filter((e=>{var s;return(null===e||void 0===e?void 0:e.user_id)&&(null===e||void 0===e||null===(s=e.playershares)||void 0===s?void 0:s[p])})))||void 0===s?void 0:s.map((e=>{var s,t,l;return{user_id:e.user_id,username:e.username,avatar:e.avatar,count:null===(s=a)||void 0===s?void 0:s.reduce(((s,a)=>{var t,l;return s+(null===(t=e.playershares[p])||void 0===t||null===(l=t[a])||void 0===l?void 0:l[0])}),0),percentage:((null===(t=a)||void 0===t?void 0:t.reduce(((s,a)=>{var t,l;return s+(null===(t=e.playershares[p])||void 0===t||null===(l=t[a])||void 0===l?void 0:l[0])}),0))/(null===(l=a)||void 0===l?void 0:l.reduce(((s,a)=>{var t,l;return s+(null===(t=e.playershares[p])||void 0===t||null===(l=t[a])||void 0===l?void 0:l[1])}),0))*100).toFixed(1)}}))}),[h,y,x]),F="Owned"===S?i:"Taken"===S?c:"Available"===S?v:[],P=(0,r.y)(F,h,y).map((e=>{var s,a,t,l,i,r,o,c,u;const{wins:v,losses:p,ties:g}=e.userRoster.settings;v+p+g>0&&(v/(v+p+g)).toFixed(4);return{id:e.league_id,search:{text:e.name,image:{src:e.avatar,alt:"league avatar",type:"league"}},list:[{text:e.name,colSpan:3,className:"left",image:{src:e.avatar,alt:e.name,type:"league"}},{text:(0,d.jsx)("p",{className:"stat check",style:(0,n.y)(-(e.userRoster.rank/e.rosters.length-.5),.0025),children:(null===(s=e.userRoster)||void 0===s?void 0:s.rank)||"-"}),colSpan:1,className:(null===(a=e.userRoster)||void 0===a?void 0:a.rank)/e.rosters.length<=.25?"green":(null===(t=e.userRoster)||void 0===t?void 0:t.rank)/e.rosters.length>=.75?"red":null},"Taken"===S?{text:(null===(l=e.lmRoster)||void 0===l?void 0:l.username)||"Orphan",colSpan:2,className:"left",image:{src:null===(i=e.lmRoster)||void 0===i?void 0:i.avatar,alt:null===(r=e.lmRoster)||void 0===r?void 0:r.username,type:"user"}}:"","Taken"===S?{text:(0,d.jsx)("p",{className:"stat check",style:(0,n.y)(-(e.lmRoster.rank/e.rosters.length-.5),.0025),children:null===(o=e.lmRoster)||void 0===o?void 0:o.rank}),colSpan:1,className:(null===(c=e.lmRoster)||void 0===c?void 0:c.rank)/e.rosters.length<=.25?"green":(null===(u=e.lmRoster)||void 0===u?void 0:u.rank)/e.rosters.length>=.75?"red":null}:""],secondary_table:m({league:e})}})),T=x&&(null===A||void 0===A||null===(s=A.sort(((e,s)=>s.count-e.count)).slice(0,25))||void 0===s?void 0:s.map((e=>({id:e.user_id,list:[{text:e.username,colSpan:3,className:"left",image:{src:e.avatar,alt:"avatar",type:"user"}},{text:(0,d.jsxs)(d.Fragment,{children:[e.count,"\xa0\xa0\xa0\xa0\xa0",(0,d.jsx)("em",{children:e.percentage+"%"})]}),colSpan:2}]})))),I=x&&(null===A||void 0===A||null===(a=A.sort(((e,s)=>s.percentage-e.percentage)).slice(0,25))||void 0===a?void 0:a.map((e=>({id:e.user_id,list:[{text:e.username,colSpan:3,className:"left",image:{src:e.avatar,alt:"avatar",type:"user"}},{text:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("p",{children:e.count}),(0,d.jsx)("em",{children:e.percentage+"%"})]}),colSpan:2}]}))));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"secondary nav",children:[(0,d.jsx)("button",{className:"Owned"===S?"active click":"click",onClick:e=>_((0,o.P_)({tabSecondary:"Owned"})),children:"Owned"}),(0,d.jsx)("button",{className:"Taken"===S?"active click":"click",onClick:e=>_((0,o.P_)({tabSecondary:"Taken"})),children:"Taken"}),(0,d.jsx)("button",{className:"Available"===S?"active click":"click",onClick:e=>_((0,o.P_)({tabSecondary:"Available"})),children:"Available"}),(0,d.jsx)("button",{className:"Leaguemate Shares"===S?"active click":"click",onClick:e=>_((0,o.P_)({tabSecondary:"Leaguemate Shares"})),children:"Leaguemate Shares"})]}),"Leaguemate Shares"===S?f?(0,d.jsx)(g.default,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.Z,{type:"secondary half",headers:[],body:T||[]}),(0,d.jsx)(t.Z,{type:"secondary half",headers:[],body:I||[]})]}):(0,d.jsx)(t.Z,{type:"secondary",headers:R,body:P,page:b,setPage:w,itemActive:k,setItemActive:N,searched:j,setSearched:e=>_((0,o.P_)({searchedSecondary:e}))})]})},h=e=>{let{...s}=e;return(0,d.jsx)(_,{...s})};var y=a(6950);const x=e=>{let{...s}=e;return(0,d.jsx)(y.Z,{...s})},f=()=>(0,d.jsx)(m,{secondaryTable:e=>(0,d.jsx)(h,{...e,secondaryTable:e=>(0,d.jsx)(x,{...e})})})},758:(e,s,a)=>{a.d(s,{P_:()=>l,_Y:()=>i,fL:()=>n});var t=a(7805);const l=(e,s)=>({type:"SET_STATE_PLAYERS",payload:e}),n=(e,s)=>({type:"SET_STATE_USER",payload:e}),i=(e,s)=>async a=>{const l={};e.forEach((e=>{var a;const n=(0,t.K)(e.rosters,s),i=e.season;null===(a=e.rosters)||void 0===a||a.forEach((s=>{var a,t;null===(a=s.players)||void 0===a||a.forEach((a=>{let t=l[a]||{id:a,leagues_owned:[],leagues_taken:[]};s.user_id===(null===n||void 0===n?void 0:n.user_id)?t.leagues_owned.push(e):t.leagues_taken.push({...e,lmRoster:s}),l[a]=t})),null===(t=s.draft_picks)||void 0===t||t.forEach((a=>{var t;const r="".concat(a.season,"_").concat(a.round,"_").concat(null===(t=a.order)||void 0===t?void 0:t.toLocaleString("en-US",{minimumIntegerDigits:2}));let o=l[r]||{id:r,leagues_owned:[],leagues_taken:[]};a.season===parseInt(i)&&parseInt(a.order)&&(s.user_id===(null===n||void 0===n?void 0:n.user_id)?o.leagues_owned.push({...e}):o.leagues_taken.push({...e,lmRoster:s}),l[r]=o)}))}))}));const i=Object.values(l).map((s=>({...s,leagues_available:s.id.includes("_")?[]:e.filter((e=>{var a;return!(null!==(a=e.rosters)&&void 0!==a&&a.find((e=>{var a;return null===(a=e.players)||void 0===a?void 0:a.includes(s.id)})))}))})));console.log({playerShares:i}),a(n({userPlayerShares:i}))}},1499:(e,s,a)=>{e.exports=a.p+"static/media/headshot.156454eef89d09881eab.png"},6261:(e,s,a)=>{e.exports=a.p+"static/media/sleeper_icon.112b7db9cdaba849eed3.png"}}]);
//# sourceMappingURL=634.67788c16.chunk.js.map