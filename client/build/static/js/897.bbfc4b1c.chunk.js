"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[897],{9634:(e,s,l)=>{l.d(s,{y:()=>a});const a=(e,s,l)=>(e||[]).filter((e=>{let a,t;switch(s){case"Redraft":a=2!==e.settings.type;break;case"All":default:a=!0;break;case"Dynasty":a=2===e.settings.type}switch(l){case"Bestball":t=1===e.settings.best_ball;break;case"All":default:t=!0;break;case"Lineup":t=1!==e.settings.best_ball}return a&&t}))},6036:(e,s,l)=>{l.d(s,{Z:()=>o});var a=l(2791),t=l(9434),r=l(8852);const o=()=>{const e=(0,t.I0)(),{user_id:s,lmplayershares:l}=(0,t.v9)((e=>e.user));console.log({lmplayershares:l}),(0,a.useEffect)((()=>{s&&!l&&e((0,r.SD)(s))}),[s,l,e])}},4034:(e,s,l)=>{l.r(s),l.d(s,{default:()=>_});var a=l(2791),t=l(9434),r=l(8852);const o=(e,s)=>({type:"SET_STATE_LEAGUEMATES",payload:e}),n=()=>{const e=(0,t.I0)(),{leagues:s,leaguemates:l}=(0,t.v9)((e=>e.user));(0,a.useEffect)((()=>{s&&!l&&e((e=>async s=>{const l={};e.forEach((e=>{var s,a;null===(s=e.rosters)||void 0===s||null===(a=s.filter((s=>{var l,a;return parseInt(s.user_id)>0&&s.user_id!==e.userRoster.user_id&&(null===(l=e.userRoster)||void 0===l||null===(a=l.players)||void 0===a?void 0:a.length)>0})))||void 0===a||a.forEach((s=>{let a=l[s.user_id]||{user_id:s.user_id,username:s.username,avatar:s.avatar,leagues:[]};a.leagues.push({...e,lmRoster:s}),l[s.user_id]=a}))}));const a=Object.values(l);console.log({leaguemates:a}),s((0,r.fL)({leaguemates:a}))})(s))}),[e,s,l])};var i=l(7716),c=l(9634),d=l(6549),u=l(184);const v=e=>{var s,l,a;let{secondaryTable:r}=e;const n=(0,t.I0)(),{username:v,type1:m,type2:p,leaguemates:g}=(0,t.v9)((e=>e.user)),{page:y,itemActive:h,searched:x}=(0,t.v9)((e=>e.leaguemates));console.log({leaguemates:g});const _=[[{text:"Leaguemate",colSpan:3,rowSpan:2,className:"half"},{text:"#",colSpan:1,rowSpan:2,className:"half"},{text:"Leaguemate",colSpan:4,className:"half"},{text:v,colSpan:4,className:"half"}],[{text:"Record",colSpan:2,className:"half"},{text:"Fpts",colSpan:2,className:"half"},{text:"Record",colSpan:2,className:"half"},{text:"Fpts",colSpan:2,className:"half"}]],f=null===(s=g||[])||void 0===s||null===(l=s.filter((e=>e.username!==v&&(!(null!==x&&void 0!==x&&x.id)||x.id===e.user_id))))||void 0===l||null===(a=l.sort(((e,s)=>{var l,a;return(null===(l=(0,c.y)(s.leagues,m,p))||void 0===l?void 0:l.length)-(null===(a=(0,c.y)(e.leagues,m,p))||void 0===a?void 0:a.length)})))||void 0===a?void 0:a.map((e=>{var s,l;const a=(0,c.y)(e.leagues,m,p),t=null===a||void 0===a?void 0:a.reduce(((e,s)=>{var l;return e+(null===(l=s.lmRoster.settings)||void 0===l?void 0:l.wins)}),0),o=null===a||void 0===a?void 0:a.reduce(((e,s)=>{var l;return e+(null===(l=s.lmRoster.settings)||void 0===l?void 0:l.losses)}),0),n=null===a||void 0===a?void 0:a.reduce(((e,s)=>e+s.lmRoster.settings.ties),0),i=t+o+n>0&&t/(t+o+n),v=null===(s=e.leagues)||void 0===s?void 0:s.reduce(((e,s)=>{var l,a;return e+parseFloat((null===(l=s.lmRoster.settings)||void 0===l?void 0:l.fpts)+"."+(null===(a=s.lmRoster.settings)||void 0===a?void 0:a.fpts_decimal))}),0),g=null===a||void 0===a?void 0:a.reduce(((e,s)=>{var l;return e+(null===(l=s.userRoster.settings)||void 0===l?void 0:l.wins)}),0),y=null===a||void 0===a?void 0:a.reduce(((e,s)=>{var l;return e+(null===(l=s.userRoster.settings)||void 0===l?void 0:l.losses)}),0),h=null===a||void 0===a?void 0:a.reduce(((e,s)=>{var l;return e+(null===(l=s.userRoster.settings)||void 0===l?void 0:l.ties)}),0),x=g+y+h>0&&g/(g+y+h),_=null===(l=e.leagues)||void 0===l?void 0:l.reduce(((e,s)=>{var l,a;return e+parseFloat((null===(l=s.userRoster.settings)||void 0===l?void 0:l.fpts)+"."+(null===(a=s.userRoster.settings)||void 0===a?void 0:a.fpts_decimal))}),0);return{id:e.user_id,search:{text:e.username,image:{src:e.avatar,alt:"user avatar",type:"user"}},list:[{text:e.username||"Orphan",colSpan:3,className:"left",image:{src:e.avatar,alt:e.username,type:"user"}},{text:null===a||void 0===a?void 0:a.length.toString(),colSpan:1},{text:(0,u.jsxs)("p",{className:i>.5?"green stat":i<.5?" red stat":"stat",style:(0,d.y)(i-.5,5e-4),children:[t,"-",o,n>0?"-".concat(n):""]}),colSpan:2},{text:(0,u.jsx)("p",{className:i>.5?"green stat":i<.5?" red stat":"stat",style:(0,d.y)(i-.5,5e-4),children:null===v||void 0===v?void 0:v.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2})}),colSpan:2},{text:(0,u.jsxs)("p",{className:x>.5?"green stat":x<.5?" red stat":"stat",style:(0,d.y)(x-.5,5e-4),children:[g,"-",y,h>0?"-".concat(h):""]}),colSpan:2},{text:(0,u.jsx)("p",{className:x>.5?"green stat":x<.5?" red stat":"stat",style:(0,d.y)(x-.5,5e-4),children:null===_||void 0===_?void 0:_.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2})}),colSpan:2}],secondary_table:r({leaguemate:e})}}));return(0,u.jsx)(i.Z,{id:"Leaguemates",type:"primary",headers:_,body:f,page:y,setPage:e=>n(o({page:e})),itemActive:h,setItemActive:e=>n(o({itemActive:e})),search:!0,searched:x,setSearched:e=>n(o({searched:e}))})},m=e=>{let{secondaryTable:s}=e;return n(),(0,u.jsx)(v,{secondaryTable:s})};var p=l(78);const g=e=>{let{leaguemate:s}=e;const l=(0,t.I0)(),{username:a,type1:r,type2:n}=(0,t.v9)((e=>e.user)),{page_leagues:v,itemActive_leagues:m}=(0,t.v9)((e=>e.leaguemates)),g=[[{text:"League",colSpan:4,rowSpan:2,className:"half"},{text:s.username,colSpan:4,className:"half"},{text:a,colSpan:4,className:"half"}],[{text:"Record",colSpan:2,className:"half"},{text:"Rank",colSpan:2,className:"half"},{text:"Record",colSpan:2,className:"half"},{text:"Rank",colSpan:2,className:"half"}]],y=(0,c.y)(s.leagues,r,n).map((e=>({id:e.league_id,list:[{text:e.name,colSpan:4,className:"left",image:{src:e.avatar,alt:"avatar",type:"league"}},{text:"".concat(e.lmRoster.settings.wins,"-").concat(e.lmRoster.settings.losses).concat(e.lmRoster.ties>0?"-".concat(e.lmRoster.ties):""),colSpan:2},{text:(0,u.jsx)("p",{className:"stat check",style:(0,d.y)(-(e.lmRoster.rank/e.rosters.length-.5),.0025),children:e.lmRoster.rank}),colSpan:2,className:e.lmRoster.rank/e.rosters.length<=.25?"green":e.lmRoster.rank/e.rosters.length>=.75?"red":null},{text:"".concat(e.userRoster.settings.wins,"-").concat(e.userRoster.settings.losses).concat(e.userRoster.ties>0?"-".concat(e.userRoster.ties):""),colSpan:2},{text:(0,u.jsx)("p",{className:"stat check",style:(0,d.y)(-(e.userRoster.rank/e.rosters.length-.5),.0025),children:e.userRoster.rank}),colSpan:2,className:e.userRoster.rank/e.rosters.length<=.25?"green":e.userRoster.rank/e.rosters.length>=.75?"red":null}],secondary_table:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p.Z,{roster:e.lmRoster,league:e,type:"tertiary half"}),(0,u.jsx)(p.Z,{roster:e.userRoster,league:e,type:"tertiary half"})]})})));return(0,u.jsx)(i.Z,{id:"Players",type:"secondary",headers:g,body:y,page:v,setPage:e=>l(o({page_leagues:e})),itemActive:m,setItemActive:e=>l(o({itemActive_leagues:e}))})},y=e=>{let{leaguemate:s}=e;const l=(0,t.I0)(),{allplayers:r}=(0,t.v9)((e=>e.common)),{username:n,type1:d,type2:v,lmplayershares:m,userPlayerShares:p}=(0,t.v9)((e=>e.user)),{page_players_c:g,page_players_a:y,itemActive_players:h,searched_players:x,sortBy:_,secondaryContent:f}=(0,t.v9)((e=>e.leaguemates));let S;switch(console.log({lmplayershares:m}),"".concat(d,"-").concat(v)){case"All-All":S=["all"];break;case"Redraft-All":S=["r_b","r_s"];break;case"Dynasty-All":S=["d_b","d_s"];break;case"All-Bestball":S=["r_b","d_b"];break;case"All-Standard":S=["r_s","d_s"]}const R=(0,a.useMemo)((()=>{const e=[];(0,c.y)(s.leagues,d,v).map((s=>s.lmRoster.players.map((l=>e.push({id:l,league:s,type:"lm",wins:s.lmRoster.settings.wins,losses:s.lmRoster.settings.losses,ties:s.lmRoster.settings.ties})))&&s.userRoster.players.map((l=>e.push({id:l,league:s,type:"user",wins:s.userRoster.settings.wins,losses:s.userRoster.settings.losses,ties:s.userRoster.settings.ties})))));const l=[];return e.forEach((s=>{if(-1===l.findIndex((e=>e.id===s.id))){let a=e.filter((e=>e.id===s.id&&"lm"===e.type)),t=e.filter((e=>e.id===s.id&&"user"===e.type));const r=a.reduce(((e,s)=>({wins:e.wins+s.wins,losses:e.losses+s.losses,ties:e.ties+s.ties})),{wins:0,losses:0,ties:0}),o=t.reduce(((e,s)=>({wins:e.wins+s.wins,losses:e.losses+s.losses,ties:e.ties+s.ties})),{wins:0,losses:0,ties:0});l.push({id:s.id,leagues_lm:a,lm_record:r,leagues_user:t,user_record:o})}})),l}),[s,d,v]),k=[[{text:"Player",colSpan:4,rowSpan:2,className:"half"},{text:s.username,colSpan:4,onClick:()=>l(o({sortBy:"Leaguemate"})),className:"half"},{text:n,colSpan:4,onClick:()=>l(o({sortBy:"User"})),className:"half"}],[{text:"Count",colSpan:1,className:"small half",onClick:()=>l(o({sortBy:"Leaguemate"}))},{text:"Record",colSpan:3,className:"small half",onClick:()=>l(o({sortBy:"Leaguemate"}))},{text:"Count",colSpan:1,className:"small half",onClick:()=>l(o({sortBy:"User"}))},{text:"Record",colSpan:3,className:"small half",onClick:()=>l(o({sortBy:"User"}))}]],N=R.filter((e=>!x.id||e.id===x.id)).sort(((e,s)=>{var l,a,t,r;return"Leaguemate"===_?(null===(l=s.leagues_lm)||void 0===l?void 0:l.length)-(null===(a=e.leagues_lm)||void 0===a?void 0:a.length):(null===(t=s.leagues_user)||void 0===t?void 0:t.length)-(null===(r=e.leagues_user)||void 0===r?void 0:r.length)})).map((e=>{var s,l;const a=e.lm_record.wins,t=e.lm_record.losses,o=e.lm_record.ties,n=e.user_record.wins,i=e.user_record.losses,c=e.user_record.ties;return{id:e.id,search:{text:null===(s=r[e.id])||void 0===s?void 0:s.full_name,image:{src:e.id,alt:"player headshot",type:"player"}},list:[{text:null===(l=r[e.id])||void 0===l?void 0:l.full_name,colSpan:4,className:"left",image:{src:e.id,alt:"player headshot",type:"player"}},{text:r[e.id]&&e.leagues_lm.length||"0",colSpan:1},{text:r[e.id]&&a+"-"+t+(o>0?"-".concat(o):""),colSpan:3},{text:r[e.id]&&e.leagues_user.length||"0",colSpan:1},{text:r[e.id]&&n+"-"+i+(c>0?"-".concat(c):""),colSpan:3}],secondary_table:""}})),b=Object.keys(r).filter((e=>{var s;return(null===(s=r[e])||void 0===s?void 0:s.full_name)&&(!x.id||e===x.id)})).sort(((e,s)=>{var l,a,t,r;return"Leaguemate"===_?(null===(l=S)||void 0===l?void 0:l.reduce(((e,l)=>{var a,t;return e+((null===m||void 0===m||null===(a=m[s])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))-(null===(a=S)||void 0===a?void 0:a.reduce(((s,l)=>{var a,t;return s+((null===m||void 0===m||null===(a=m[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0)):(null===(t=S)||void 0===t?void 0:t.reduce(((e,l)=>{var a,t;return e+((null===(a=p[s])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))-(null===(r=S)||void 0===r?void 0:r.reduce(((s,l)=>{var a,t;return s+((null===(a=p[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))})).map((e=>{var s,l,a,t,o,n,i,c,d,u;return{id:e,search:{text:null===(s=r[e])||void 0===s?void 0:s.full_name,image:{src:e,alt:"player headshot",type:"player"}},list:[{text:(null===(l=r[e])||void 0===l?void 0:l.full_name)||"-",colSpan:4,className:"left",image:{src:e,alt:"player",type:"player"}},{text:(null===(a=S)||void 0===a?void 0:a.reduce(((s,l)=>{var a,t;return s+((null===m||void 0===m||null===(a=m[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))||"0",colSpan:1},{text:(null===(t=S)||void 0===t?void 0:t.reduce(((s,l)=>{var a,t;return s+((null===m||void 0===m||null===(a=m[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[1])||0)}),0))>0?((null===(o=S)||void 0===o?void 0:o.reduce(((s,l)=>{var a,t;return s+((null===m||void 0===m||null===(a=m[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))/(null===(n=S)||void 0===n?void 0:n.reduce(((s,l)=>{var a,t;return s+((null===m||void 0===m||null===(a=m[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[1])||0)}),0))*100).toFixed(1):"-",colSpan:2},{text:(null===(i=S)||void 0===i?void 0:i.reduce(((s,l)=>{var a,t;return s+((null===(a=p[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))||"0",colSpan:1},{text:(null===(c=S)||void 0===c?void 0:c.reduce(((s,l)=>{var a,t;return s+((null===(a=p[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[1])||0)}),0))>0?((null===(d=S)||void 0===d?void 0:d.reduce(((s,l)=>{var a,t;return s+((null===(a=p[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[0])||0)}),0))/(null===(u=S)||void 0===u?void 0:u.reduce(((s,l)=>{var a,t;return s+((null===(a=p[e])||void 0===a||null===(t=a[l])||void 0===t?void 0:t[1])||0)}),0))*100).toFixed(1):"-",colSpan:2}]}}));return(0,u.jsx)(i.Z,{id:"Players",type:"secondary",headers:k,body:"Players-all"===f?b:N,page:"Players-all"===f?y:g,setPage:e=>l(o("Players-all"===f?{page_players_a:e}:{page_players_c:e}))})};var h=l(6036);const x=e=>{let{...s}=e;const l=(0,t.I0)(),{secondaryContent:a}=(0,t.v9)((e=>e.leaguemates));return(0,h.Z)(),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"secondary nav",children:[(0,u.jsx)("button",{className:"Leagues"===a?"active click":"click",onClick:()=>l(o({secondaryContent:"Leagues"})),children:"Leagues"}),(0,u.jsxs)("button",{className:"Players-common"===a?"active click":"click",onClick:()=>l(o({secondaryContent:"Players-common"})),children:["Players ",(0,u.jsx)("em",{className:"small",children:"(common leagues)"})]}),(0,u.jsxs)("button",{className:"Players-all"===a?"active click":"click",onClick:()=>l(o({secondaryContent:"Players-all"})),disabled:!0,children:["Players ",(0,u.jsx)("em",{className:"small",children:"(all leagues)"})]})]}),"Leagues"===a?(0,u.jsx)(g,{...s}):(0,u.jsx)(y,{...s})]})},_=()=>(0,u.jsx)(m,{secondaryTable:e=>(0,u.jsx)(x,{...e})})}}]);
//# sourceMappingURL=897.bbfc4b1c.chunk.js.map