"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[748],{863:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a(2791).lazy((()=>a.e(176).then(a.bind(a,6051))))},4813:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(2791),s=a(863),n=a(184);const o=e=>{let{id:t,placeholder:a,list:o,isLoading:r,searched:i,setSearched:c}=e;const[d,p]=(0,l.useState)(!1),[u,v]=(0,l.useState)([]),[m,h]=(0,l.useState)(!1),_=(0,l.useCallback)((e=>o.filter((t=>{var a;return null===(a=t.text)||void 0===a?void 0:a.trim().toLowerCase().replace(/[^a-z0-9]/g,"").includes(e.replace(/[^a-z0-9]/g,"").trim().toLowerCase())})).sort(((t,a)=>{var l;return null!==(l=a.text)&&void 0!==l&&l.trim().toLowerCase().replace(/[^a-z0-9]/g,"").startsWith(e.replace(/[^a-z0-9]/g,"").trim().toLowerCase())?1:-1}))),[o]),g=e=>{let t,a,l=e;if(""===l)t=[],a=!1,c(l);else if(o.map((e=>{var t;return null===(t=e.text)||void 0===t?void 0:t.trim().toLowerCase()})).includes(l.trim().toLowerCase())){const e=o.find((e=>{var t;return(null===(t=e.text)||void 0===t?void 0:t.trim().toLowerCase())===l.trim().toLowerCase()}));t=[],a=!1,c(e)}else t=_(l),a=!0,c(l);p(a),v(t)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{onBlur:()=>p(!1),className:"search_wrapper",children:[null!==i&&void 0!==i&&i.image?(0,n.jsx)(s.Z,{avatar_id:i.image.src,alt:i.image.alt,type:i.image.type}):null,(0,n.jsx)("input",{className:"search",onChange:e=>g(e.target.value),onFocus:()=>p(!0),id:void 0===t?null:t,placeholder:"Search...",type:"text",value:(null===i||void 0===i?void 0:i.text)||i,autoComplete:"off",disabled:r}),""===i||!d&&""!==i&&d?(0,n.jsx)("button",{onClick:()=>g(" "),className:"input click",children:"\u25bc"}):(0,n.jsx)("button",{type:"reset",onClick:()=>g(""),className:"input click",children:"X"}),d&&u.length>0&&!r?(0,n.jsx)("ol",{onBlur:()=>p(!1),className:"dropdown",children:u.map(((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{className:"click "+("".concat(e.text,"_").concat(t)===m?"reverse":""),onMouseEnter:()=>{return a="".concat(e.text,"_").concat(t),void setTimeout((()=>{h(a)}),2e3);var a},onMouseLeave:()=>h(!1),onMouseDown:()=>c(e),children:e.image?(0,n.jsxs)("p",{children:[(0,n.jsx)(s.Z,{avatar_id:e.image.src,alt:e.image.alt,type:e.image.type}),(0,n.jsx)("span",{children:e.text})]}):e.text})},"".concat(e.text,"_").concat(t))))}):null]})})}},7716:(e,t,a)=>{a.d(t,{Z:()=>r});var l=a(863),s=a(2791),n=a(4813),o=a(184);const r=e=>{var t,a,r,i,c,d;let{id:p,type:u,headers:v,body:m,page:h,setPage:_,itemActive:g,setItemActive:S,caption:y,searched:x,setSearched:f,options1:j,options2:E,partial:T,loadMore:N}=e;const C=(0,s.useRef)(null),b=(0,s.useRef)(null);return(0,s.useEffect)((()=>{null!==C.current&&(C.current.focus(),C.current.scrollIntoView({behavior:"smooth",inline:"center"}))}),[C,h]),(0,s.useEffect)((()=>{null===b.current||u.includes("half")||(b.current.focus(),b.current.scrollIntoView({behavior:"smooth",block:"start"}))}),[b,g]),(0,s.useEffect)((()=>{var e,t;h&&1!==h&&m&&!(null!==m&&void 0!==m&&null!==(e=m.filter((e=>e)))&&void 0!==e&&null!==(t=e.slice(Math.max(25*((h||1)-1),0),25*((h||1)-1)+25))&&void 0!==t&&t.length)>0&&_(1)}),[m,h]),(0,o.jsxs)(o.Fragment,{children:[f?(0,o.jsxs)("div",{className:"search_filter_wrapper",children:[(0,o.jsx)("div",{children:null===j||void 0===j?void 0:j.map((e=>e))}),(0,o.jsx)(n.Z,{id:p,placeholder:"Search ".concat(p),list:null===m||void 0===m||null===(t=m.filter(((e,t)=>{var a;return"orphan"!==(null===(a=e.search)||void 0===a?void 0:a.text)||!m.slice(0,t).find((e=>{var t;return"orphan"===(null===(t=e.search)||void 0===t?void 0:t.text)}))})))||void 0===t?void 0:t.map((e=>({...e.search,id:e.id}))),searched:x,setSearched:f}),(0,o.jsx)("div",{children:null===E||void 0===E?void 0:E.map((e=>e))})]}):null,h?(0,o.jsx)("div",{className:"page_numbers_wrapper",children:(0,o.jsx)(o.Fragment,{children:Math.ceil((null===m||void 0===m?void 0:m.length)/25)<=1?null:(0,o.jsxs)("ol",{className:"page_numbers",children:[Array.from(Array(Math.ceil((null===m||void 0===m?void 0:m.length)/25||0)).keys()).map((e=>(0,o.jsx)("li",{className:h===e+1?"active click":"click",onClick:()=>_(e+1),ref:h===e+1?C:null,children:e+1},e+1))),T?(0,o.jsx)("li",{className:"click",onClick:N,children:"..."}):null]})})}):null,(0,o.jsxs)("table",{className:u,id:p,children:[y?(0,o.jsx)("caption",{children:y}):null,(0,o.jsx)("thead",{children:null===v||void 0===v?void 0:v.map(((e,t)=>(0,o.jsx)("tr",{children:e.filter((e=>e)).map(((e,t)=>(0,o.jsx)("th",{colSpan:null===e||void 0===e?void 0:e.colSpan,rowSpan:null===e||void 0===e?void 0:e.rowSpan,className:null===e||void 0===e?void 0:e.className,onClick:null===e||void 0===e?void 0:e.onClick,children:null===e||void 0===e?void 0:e.text},t)))},t)))}),(null===m||void 0===m?void 0:m.length)>0&&h>1?(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{className:"click",onClick:()=>_(h-1),children:(0,o.jsx)("td",{colSpan:v[0].reduce(((e,t)=>e+(t.colSpan||0)),0),children:"PREV PAGE"})})}):null,(null===m||void 0===m?void 0:m.length)>0?(0,o.jsx)("tbody",{children:null===m||void 0===m||null===(a=m.filter((e=>e)))||void 0===a||null===(r=a.slice(Math.max(25*((h||1)-1),0),25*((h||1)-1)+25))||void 0===r?void 0:r.map(((e,t)=>{var a,s,n,r;return(0,o.jsx)("tr",{className:g===e.id?"active_wrapper":"",children:(0,o.jsx)("td",{colSpan:null===(a=e.list)||void 0===a?void 0:a.reduce(((e,t)=>e+(t.colSpan||0)),0),children:(0,o.jsxs)("table",{className:"body ".concat(g===e.id?"active":""),children:[(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{className:"click ".concat(g===e.id?"active":""),ref:g!==e.id||null!==u&&void 0!==u&&null!==(s=u.split(" "))&&void 0!==s&&s.includes("lineup")?null:b,onClick:S?()=>g===e.id?S(""):S(e.id):null,children:null===(n=e.list)||void 0===n||null===(r=n.filter((e=>e.text)))||void 0===r?void 0:r.map(((e,t)=>(0,o.jsx)("td",{colSpan:e.colSpan,className:e.className,children:e.image?(0,o.jsxs)("p",{children:[(0,o.jsx)(l.Z,{avatar_id:e.image.src,alt:e.image.alt,type:e.image.type}),(0,o.jsx)("span",{children:e.text})]}):e.text},t)))})}),(0,o.jsx)("tbody",{children:g===e.id&&e.secondary_table?(0,o.jsx)("tr",{className:"".concat(u," click ").concat(g===e.id?"active2":""),children:(0,o.jsx)("td",{colSpan:e.list.reduce(((e,t)=>e+(t.colSpan||0)),0),children:e.secondary_table})}):null})]})})},t)}))}):(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:null===(i=v[0])||void 0===i?void 0:i.reduce(((e,t)=>e+((null===t||void 0===t?void 0:t.colSpan)||0)),0),children:"NO DATA"})})}),(null===m||void 0===m||null===(c=m.filter((e=>e)))||void 0===c||null===(d=c.slice(Math.max(25*((h||1)-1),0),25*((h||1)-1)+25))||void 0===d?void 0:d.length)>0&&(25*(h-1)+25<(null===m||void 0===m?void 0:m.length)||T)?(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{className:"click",onClick:25*(h-1)+25<(null===m||void 0===m?void 0:m.length)?()=>_(h+1):N,children:(0,o.jsx)("td",{colSpan:v[0].reduce(((e,t)=>e+(t.colSpan||0)),0),children:"NEXT PAGE"})})}):null]})]})}},8852:(e,t,a)=>{a.d(t,{BT:()=>r,MG:()=>d,SD:()=>c,fL:()=>s,oA:()=>n,um:()=>i,wR:()=>o});var l=a(1243);const s=e=>({type:"SET_STATE_USER",payload:e}),n=()=>({type:"RESET_STATE"}),o=e=>async t=>{t({type:"FETCH_COMMON_START",payload:{item:e}});try{const a=await l.Z.get("/main/".concat(e));"projections"===e&&console.log(a.data[0].filter((e=>4===e.week&&"8135"===e.player_id)));const s="projections"!==e?a.data[0]:a.data[0].reduce(((e,t)=>{const{week:a,player_id:l,injury_status:s,...n}=t;return e[a]||(e[a]={}),e[a][l]={...n,injury_status:s},e}),{});t({type:"FETCH_COMMON_SUCCESS",payload:{item:e,data:s}})}catch(a){t({type:"FETCH_COMMON_FAILURE",payload:a.message}),console.error(a.message)}},r=e=>async t=>{t({type:"FETCH_USER_START"});try{var a;const s=await l.Z.get("/user/create",{params:{username:e}});if(console.log(s.data),null!==(a=s.data)&&void 0!==a&&a.error)t({type:"FETCH_USER_FAILURE",payload:s.data});else{t({type:"FETCH_USER_SUCCESS",payload:s.data.user}),t({type:"SET_STATE_COMMON",payload:{state:s.data.state}});t({type:"SET_STATE_LINEUPS",payload:{week:"regular"===s.data.state.season_type?s.data.state.leg:s.data.state.season_type.includes("post")?19:1}})}}catch(s){t({type:"FETCH_USER_FAILURE",payload:s.message})}},i=e=>async t=>{t({type:"FETCH_LEAGUES_START"});try{const l=await fetch("/league/find?user_id=".concat(encodeURIComponent(e)),{method:"GET",headers:{Accept:"application/json"}});if(l.ok){const e=l.body.getReader();let s,n="";for(;;){const{done:a,value:l}=await e.read();if(a)break;n+=(new TextDecoder).decode(l);const s=n.match(/"league_id":/g);let o=0;s&&s.length>0&&(o=s.length),t({type:"SET_STATE_PROGRESS",payload:{progress:o}})}try{s=JSON.parse(n)}catch(a){console.log(a)}console.log(s),t({type:"FETCH_LEAGUES_SUCCESS",payload:s.flat()})}else t({type:"FETCH_LEAGUES_FAILURE",payload:"Failed to fetch user leagues"})}catch(a){t({type:"FETCH_LEAGUES_FAILURE",payload:a.message})}},c=e=>async t=>{t({type:"SET_STATE_USER",payload:{isLoadingPS:!0}});try{const a=await l.Z.get("/user/lmplayershares",{params:{user_id:e}});console.log({lmplayershares:a.data.sort(((e,t)=>e.username>t.username?1:-1))}),t({type:"SET_STATE_USER",payload:{lmplayershares:a.data,isLoadingPS:!1}})}catch(a){t({type:"SET_STATE_USER",payload:{isLoadingPS:!1,errorPS:a.message}})}},d=e=>async t=>{try{const a=await l.Z.post("/main/playervalues",{player_ids:e}),s={};a.data.forEach((e=>{s[e.date]||(s[e.date]={}),s[e.date][e.player_id]||(s[e.date][e.player_id]={}),s[e.date][e.player_id][e.type]=e.value})),t({type:"SET_STATE_COMMON",payload:{values:s}})}catch(a){console.log(a)}}},3940:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var l=a(2791),s=a(9434),n=a(1243),o=a(1087),r=a(8852);const i=a.p+"static/media/volcano.b8340e1903c4964b4bc6.png",c=a.p+"static/media/shark.f89bd2962985890998e4.jpg";var d=a(184);const p=e=>{let{stateState:t,stateSeason:a,setStateSeason:l,pool:s,title:n,startSeason:o}=e;const r=(0,d.jsx)("select",{className:"nav click",value:a,onChange:e=>l(e.target.value),children:Array.from(Array(parseInt((null===t||void 0===t?void 0:t.league_season)||(new Date).getFullYear())-parseInt(o-1)).keys()).map((e=>(0,d.jsx)("option",{children:e+o})))});return(0,d.jsxs)(d.Fragment,{children:[r,(0,d.jsx)("h1",{children:(0,d.jsxs)("p",{className:"image",children:[(0,d.jsx)("img",{src:"osr"===s?c:"rof"===s?i:null,alt:"volcano",className:"pool"}),(0,d.jsx)("strong",{className:"pool",children:n})]})})]})};var u=a(7716);const v=e=>{let{roster:t,league:a,trade_value_date:s,current_value_date:n,type:o,previous:r,players_points:i,players_projections:c,total_points:p,allplayers:v,state:m}=e;const[h,_]=(0,l.useState)("All"),[g,S]=(0,l.useState)("Total"),y=Object.keys(a).filter((e=>e.startsWith("matchups_"))).length>0,x=[[{text:(0,d.jsxs)("select",{onChange:e=>_(e.target.value),children:[(0,d.jsx)("option",{children:"All"}),(0,d.jsx)("option",{children:"QB"}),(0,d.jsx)("option",{children:"RB"}),(0,d.jsx)("option",{children:"WR"}),(0,d.jsx)("option",{children:"TE"}),(0,d.jsx)("option",{children:"Picks"})]}),colSpan:4,className:"half"},{text:r?p:"",colSpan:15,className:"half"},{text:"",colSpan:8,className:"half"}],[{text:"Slot",colSpan:4,className:"half"},{text:"Player",colSpan:15,className:"half"},{text:"",colSpan:y?3:4,className:"half left"},{text:"",colSpan:y?5:4,className:"half left end"}]],f={QB:"QB",RB:"RB",WR:"WR",TE:"TE",SUPER_FLEX:"SF",FLEX:"WRT",WRRB_FLEX:"W R",WRRB_WRT:"W R",REC_FLEX:"W T"},j=(0,l.useMemo)((()=>{var e;const l={};return null===(e=t.players)||void 0===e||e.forEach((e=>{if(y){const s=Object.keys(a).filter((e=>e.startsWith("matchups_")&&parseInt(e.split("_")[1])<m.week)).reduce(((l,s)=>{var n,o,r,i,c,d,p,u,v,m,h;const _=null===(n=a[s])||void 0===n?void 0:n.find((e=>e.roster_id===t.roster_id));return{games_total:l.games_total+(null!==_&&void 0!==_&&null!==(o=_.players)&&void 0!==o&&o.includes(e)?1:0),points_total:l.points_total+((null===_||void 0===_||null===(r=_.players_points)||void 0===r?void 0:r[e])||0),games_starter:l.games_starter+(null!==_&&void 0!==_&&null!==(i=_.starters)&&void 0!==i&&i.includes(e)?1:0),points_starter:l.points_starter+((null===_||void 0===_||null===(c=_.starters)||void 0===c?void 0:c.includes(e))&&(null===_||void 0===_||null===(d=_.players_points)||void 0===d?void 0:d[e])||0),games_bench:l.games_bench+(null===_||void 0===_||null===(p=_.players)||void 0===p||!p.includes(e)||null!==_&&void 0!==_&&null!==(u=_.starters)&&void 0!==u&&u.includes(e)?0:1),points_bench:l.points_bench+((null===_||void 0===_||null===(v=_.players)||void 0===v?void 0:v.includes(e))&&!(null!==_&&void 0!==_&&null!==(m=_.starters)&&void 0!==m&&m.includes(e))&&(null===_||void 0===_||null===(h=_.players_points)||void 0===h?void 0:h[e])||0)}}),{games_total:0,points_total:0,games_starter:0,points_starter:0,games_bench:0,points_bench:0});l[e]=s}})),l}),[t,a,m.week]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.Z,{type:o||"secondary half",headers:x,body:(()=>{var e,l,s;return"Picks"===h?null===(e=t.draft_picks)||void 0===e||null===(l=e.sort(((e,t)=>e.season-t.season||e.round-t.round||e.order-t.order)))||void 0===l?void 0:l.map((e=>{var a;return{id:"".concat(e.season,"_").concat(e.round,"_").concat(e.original_user.user_id),list:[{text:(0,d.jsxs)("span",{children:["\xa0\xa0","".concat(e.season," Round ").concat(e.round).concat(e.order&&e.season===parseInt(m.league_season)?".".concat(e.order.toLocaleString("en-US",{minimumIntegerDigits:2})):e.original_user.user_id===(null===t||void 0===t?void 0:t.user_id)?"":"(".concat((null===(a=e.original_user)||void 0===a?void 0:a.username)||"Orphan",")")).toString()]}),colSpan:27,className:"left"}]}})):null===(s="All"===h?[...t.starters,...t.players.filter((e=>!t.starters.includes(e)))]:t.players)||void 0===s?void 0:s.map(((e,t)=>{var l;if("All"===h||(null===(l=v[e])||void 0===l?void 0:l.position)===h){var s,n,o;let l,m;var r,i;if("On Bench"===g)l=null===(r=j[e])||void 0===r?void 0:r.games_bench,m=null===(i=j[e])||void 0===i?void 0:i.points_bench;else if("In Lineup"===g){var c,d;l=null===(c=j[e])||void 0===c?void 0:c.games_starter,m=null===(d=j[e])||void 0===d?void 0:d.points_starter}else{var p,u;l=null===(p=j[e])||void 0===p?void 0:p.games_total,m=null===(u=j[e])||void 0===u?void 0:u.points_total}return{id:e,list:[{text:"All"===h?a.roster_positions&&f[a.roster_positions[t]]||a.roster_positions&&a.roster_positions[t]||"BN":null===(s=v[e])||void 0===s?void 0:s.position,colSpan:4},{text:null===(n=v[e])||void 0===n?void 0:n.full_name,colSpan:15,className:"left",image:{src:e,alt:"player headshot",type:"player"}},{text:null===(o=l)||void 0===o?void 0:o.toString(),colSpan:y?3:4},{text:l>0&&(m/l).toFixed(1)||"-",colSpan:y?5:4}]}}}))})()})})},m=e=>{var t,a;let{league:s,allplayers:n,state:o}=e;const[r,i]=(0,l.useState)(""),c=s.rosters.find((e=>e.roster_id===r)),p=null===(t=s.rosters)||void 0===t||null===(a=t.map((e=>({roster_id:e.roster_id,username:e.username,avatar:e.avatar,wins:e.settings.wins,losses:e.settings.losses,ties:e.settings.ties,fpts:parseFloat(e.settings.fpts+"."+e.settings.fpts_decimal),fpts_against:parseFloat(e.settings.fpts_against+"."+e.settings.fpts_against_decimal)}))))||void 0===a?void 0:a.sort(((e,t)=>t.wins-e.wins||t.fpts-e.fpts)),m=null===p||void 0===p?void 0:p.map(((e,t)=>{const a=p.find((t=>t.roster_id===e.roster_id));return{id:e.roster_id,list:[{text:e.username||"Orphan",colSpan:5,className:"left",image:{src:e.avatar,alt:"user avatar",type:"user"}},{text:"".concat(a.wins,"-").concat(a.losses).concat(a.ties>0?"-".concat(a.ties):""),colSpan:2},{text:a.fpts.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),colSpan:3}]}}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Z,{type:"secondary half",headers:[[{text:"Manager",colSpan:5},{text:"Record",colSpan:2},{text:"FP",colSpan:3}]],body:m,itemActive:r,setItemActive:e=>i(e)}),c?(0,d.jsx)(v,{type:"secondary half",league:s,roster:c,module:"Leagues",allplayers:n,state:o}):(0,d.jsx)(u.Z,{type:"secondary half",headers:[[]],body:[]})]})},h=e=>{let{stateAllPlayers:t,stateStandings:a,state:s}=e;const[n,o]=(0,l.useState)(""),[r,i]=(0,l.useState)(1),[c,p]=(0,l.useState)(""),v=(a||[]).sort(((e,t)=>t.wins-e.wins||e.losses-t.losses||t.fpts-e.fpts)).filter((e=>!n.id||"orphan"!==n.text&&n.id===e.league_name+"_"+e.roster_id||"orphan"===n.text&&"orphan"===e.username)).map(((e,a)=>({id:e.league_name+"_"+e.roster_id,search:{text:e.username,image:{src:e.user_avatar,alt:e.username,type:"user"}},list:[{text:(a+1).toString(),colSpan:1},{text:e.username,image:{src:e.user_avatar,alt:e.username,type:"user"},className:"left",colSpan:4},{text:e.league_name,image:{src:e.league_avatar,alt:e.league_name,type:"user"},className:"left",colSpan:5},{text:"".concat(e.wins,"-").concat(e.losses).concat(e.ties>0?"-".concat(e.ties):""),colSpan:2},{text:e.fpts.toString(),colSpan:2},{text:e.fpts_against.toString(),colSpan:2}],secondary_table:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"secondary nav"}),(0,d.jsx)(m,{league:e,allplayers:t,state:s})]})})));return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.Z,{id:"managers",type:"primary",headers:[[{text:"Rank",colSpan:1},{text:"Manager",colSpan:4},{text:"League",colSpan:5},{text:"Record",colSpan:2},{text:"FP",colSpan:2},{text:"FPA",colSpan:2}]],body:v,searched:n,setSearched:o,search:!0,page:r,setPage:i,itemActive:c,setItemActive:p})})},_=e=>{let{pool:t,title:a,startSeason:i}=e;const c=(0,s.I0)(),[u,v]=(0,l.useState)({}),[m,_]=(0,l.useState)(),[g,S]=(0,l.useState)((new Date).getFullYear()),{allplayers:y}=(0,s.v9)((e=>e.common));return(0,l.useEffect)((()=>{(async()=>{const e=await n.Z.get("/pools/home");v(e.data.state)})()}),[]),(0,l.useEffect)((()=>{y||c((0,r.wR)("allplayers"))}),[]),(0,l.useEffect)((()=>{(async()=>{const e=await n.Z.post("/pools/".concat(t),{season:g});_(e.data)})()}),[g]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.rU,{to:"/",className:"home",target:"_blank",children:"Home"}),(0,d.jsx)(p,{state:u,stateSeason:g,setStateSeason:S,title:a,startSeason:i,pool:t}),(0,d.jsx)(h,{stateAllPlayers:y,state:u,stateStandings:m})]})}}}]);
//# sourceMappingURL=748.06e67fbf.chunk.js.map