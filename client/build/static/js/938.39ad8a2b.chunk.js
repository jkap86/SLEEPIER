"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[938],{9634:(e,l,i)=>{i.d(l,{y:()=>t});const t=(e,l,i)=>(e||[]).filter((e=>{let t,n;switch(l){case"Redraft":t=2!==e.settings.type;break;case"All":default:t=!0;break;case"Dynasty":t=2===e.settings.type}switch(i){case"Bestball":n=1===e.settings.best_ball;break;case"All":default:n=!0;break;case"Lineup":n=1!==e.settings.best_ball}return t&&n}))},7805:(e,l,i)=>{i.d(l,{K:()=>t});const t=(e,l)=>null===e||void 0===e?void 0:e.find((e=>{var i;return e.user_id===l||(null===(i=e.co_owners)||void 0===i?void 0:i.find((e=>(null===e||void 0===e?void 0:e.user_id)===l)))}))},2998:(e,l,i)=>{i.r(l),i.d(l,{default:()=>A});var t=i(7716),n=i(9434),o=i(1243);const s=(e,l)=>({type:"SET_STATE_LINEUPS",payload:e}),a=()=>async(e,l)=>{const i=l(),{leagues:t}=i.user,n=i.common.state.week,s=[];if(t.filter((e=>"in_season"===e.settings.status)).forEach((e=>{const l=[];e.settings.start_week;Object.keys(e).filter((e=>e.startsWith("matchups_"))).forEach((t=>{const{wins:o,losses:s,ties:a}=e.settings;if(e[t]){const o=parseInt(t.split("_")[1]);var d;if((o<e.settings.playoff_week_start||0===e.settings.playoff_week_start)&&o>=e.settings.start_week)if(o+1<n||o+1===parseInt(n)&&((new Date).getDay()>=3||2===(new Date).getDay()&&(new Date).getHours()>18))null!==(d=e.settings.matchups_final)&&void 0!==d&&d.includes(o.toString())||l.push(t);else if(o!==n||e.settings.current_matchups_update>(new Date).getTime()-216e5&&(!i.common.schedule[n].find((e=>parseInt(e.gameSecondsRemaining)>0&&parseInt(e.gameSecondsRemaining)<3600))||e.settings.current_matchups_update>(new Date).getTime()-9e5)&&(!i.common.schedule[n].find((e=>0===parseInt(e.gameSecondsRemaining)))||e.settings.current_matchups_update>(new Date).getTime()-126e5)){if(o>n){var r;null===(r=e[t])||void 0===r||r.forEach((i=>{const n=e.rosters.find((e=>e.roster_id===i.roster_id));[...((null===n||void 0===n?void 0:n.players)||[]).filter((e=>{var l;return!(null!==(l=i.players)&&void 0!==l&&l.includes(e))}))].length>0&&l.push(t)}))}}else l.push(t)}else l.push(t)})),l.length>0&&s.push({name:e.name,league_id:e.league_id,settings:e.settings,weeks_to_update:Array.from(new Set(l))})})),console.log({all_matchups_to_update:s}),(null===s||void 0===s?void 0:s.length)>0)try{e({type:"FETCH_MATCHUPS_START"}),console.log({all_matchups_to_update:s});e({type:"FETCH_MATCHUPS_SUCCESS",payload:(await o.Z.post("/league/matchups",{all_matchups_to_update:s,display_week:n})).data})}catch(a){e({type:"FETCH_MATCHUPS_FAILURE",payload:a.message})}else e({type:"SET_STATE_USER",payload:{matchups:!0}}),console.log("No matchups to update...")};var d=i(6549),r=i(184);const u=(e,l,i,t,n,o,s,a,u,c,v,p)=>{var _,m,h;if("in_season"!==t.settings.status)return{text:"-",colSpan:2};switch(e){case"Rank":return{text:(0,r.jsx)("p",{className:"stat check",style:(0,d.y)(-(t.userRoster.rank/t.rosters.length-.5),.0025),children:t.userRoster.rank}),colSpan:2};case"Opp Rank":return{text:(0,r.jsx)("p",{className:"stat check",style:(0,d.y)(-(p.rank/t.rosters.length-.5),.0025),children:p.rank}),colSpan:2};case"Proj FP":return{text:1===t.settings.best_ball?null===n||void 0===n?void 0:n.toFixed(2):null===o||void 0===o?void 0:o.toFixed(2),colSpan:2};case"Proj FPA":return{text:1===t.settings.best_ball?null===s||void 0===s?void 0:s.toFixed(2):null===a||void 0===a?void 0:a.toFixed(2),colSpan:2};case"Proj FP (Opt)":return{text:null===n||void 0===n?void 0:n.toFixed(2),colSpan:2};case"Proj FPA (Opt)":return{text:null===s||void 0===s?void 0:s.toFixed(2),colSpan:2};case"Proj Median":return{text:parseInt(u)&&(null===u||void 0===u?void 0:u.toFixed(2))||"-",colSpan:2};case"Suboptimal":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>e.notInOptimal)).length>0?i.filter((e=>e.notInOptimal)).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>e.notInOptimal)).length>0?"red check":"green check":""};case"Early/Late Flex":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>e.earlyInFlex)).length+i.filter((e=>e.lateNotInFlex)).length>0?i.filter((e=>e.earlyInFlex)).length+i.filter((e=>e.lateNotInFlex)).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>e.earlyInFlex)).length+i.filter((e=>e.lateNotInFlex)).length>0?"red check":"green check":""};case"Open Taxi":return{text:t.settings.taxi_slots>0&&1!==t.settings.best_ball?t.settings.taxi_slots-((null===(_=t.userRoster.taxi)||void 0===_?void 0:_.length)||0)>0?t.settings.taxi_slots-((null===(m=t.userRoster.taxi)||void 0===m?void 0:m.length)||0):"\u221a":"-",colSpan:2,className:t.settings.taxi_slots>0&&1!==t.settings.best_ball?t.settings.taxi_slots-((null===(h=t.userRoster.taxi)||void 0===h?void 0:h.length)||0)>0?"red check":"green check":""};case"Non QB in SF":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>e.nonQBinSF)).length>0?i.filter((e=>e.nonQBinSF)).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>e.nonQBinSF)).length>0?"red check":"green check":""};case"Open Roster":const e=t.userRoster.players.filter((e=>{var l,i;return!(null!==(l=t.userRoster.taxi)&&void 0!==l&&l.includes(e))&&!(null!==(i=t.userRoster.reserve)&&void 0!==i&&i.includes(e))}));return{text:t.roster_positions.length!==(null===e||void 0===e?void 0:e.length)?t.roster_positions.length-(null===e||void 0===e?void 0:e.length):"\u221a",colSpan:2,className:t.roster_positions.length!==(null===e||void 0===e?void 0:e.length)?"red check":"green check"};case"Open IR":if(c[v]){var g,x,y;const e=t.settings.reserve_slots-((null===(g=t.userRoster)||void 0===g||null===(x=g.reserve)||void 0===x?void 0:x.length)||0),l=null===(y=t.userRoster.players)||void 0===y?void 0:y.filter((e=>{var l,i,n,o,s,a;return!(null!==(l=t.userRoster.reserve)&&void 0!==l&&l.includes(e))&&!(null!==(i=t.userRoster.taxi)&&void 0!==i&&i.includes(e))&&(1===t.settings.reserve_allow_sus&&"Sus"===(null===(n=c[v][e])||void 0===n?void 0:n.injury_status)||1===t.settings.reserve_allow_doubtful&&"Doubtful"===(null===(o=c[v][e])||void 0===o?void 0:o.injury_status)||1===t.settings.reserve_allow_out&&"Out"===(null===(s=c[v][e])||void 0===s?void 0:s.injury_status)||"IR"===(null===(a=c[v][e])||void 0===a?void 0:a.injury_status))})).length;return{text:e>0&&l>0?Math.min(l,e):"\u221a",colSpan:2,className:e>0&&l>0?"red check":"green check"}}return{text:"-",colSpan:2};case"Out":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Out"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?i.filter((e=>{var l;return"Out"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Out"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?"red check":"green check":""};case"Doubtful":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Doubtful"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?i.filter((e=>{var l;return"Doubtful"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Doubtful"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?"red check":"green check":""};case"Ques":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Questionable"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?i.filter((e=>{var l;return"Questionable"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Questionable"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?"red check":"green check":""};case"IR":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"IR"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?i.filter((e=>{var l;return"IR"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"IR"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?"red check":"green check":""};case"Sus":return{text:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Sus"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?i.filter((e=>{var l;return"Sus"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length:"\u221a":"-",colSpan:2,className:null!==l&&void 0!==l&&l.matchup_id&&i?i.filter((e=>{var l;return"Sus"===(null===(l=c[v][e.current_player])||void 0===l?void 0:l.injury_status)})).length>0?"red check":"green check":""};case"Opt-Act":return{text:n===o?"\u221a":(o-n).toFixed(2),colSpan:2,className:n===o?"green":"red"};default:return{text:"-",colSpan:2}}},c=(e,l,i,t,n,o,s)=>{var a,d,r,u,c,v,p,_,m,h,g;const x=null===(a=o[s])||void 0===a||null===(d=a[l])||void 0===d||null===(r=d.lc_user)||void 0===r?void 0:r.proj_score_actual,y=null===(u=o[s])||void 0===u||null===(c=u[l])||void 0===c||null===(v=c.lc_opp)||void 0===v?void 0:v.proj_score_actual,f=null===i||void 0===i||null===(p=i.players)||void 0===p||null===(_=p.filter((e=>!i.starters.includes(e))))||void 0===_?void 0:_.reduce(((e,l)=>e+i.players_points[l]),0),j=null===i||void 0===i||null===(m=i.players)||void 0===m?void 0:m.reduce(((e,l)=>e+i.players_points[l]),0);switch(e){case"For":return{text:null===i||void 0===i||null===(h=i.points)||void 0===h?void 0:h.toFixed(1),colSpan:2};case"Against":return{text:null===t||void 0===t||null===(g=t.points)||void 0===g?void 0:g.toFixed(1),colSpan:2};case"Median":return{text:parseInt(n)&&n.toFixed(2)||"-",colSpan:2};case"Optimal For":return{text:null===x||void 0===x?void 0:x.toFixed(1),colSpan:2};case"Optimal Against":return{text:null===y||void 0===y?void 0:y.toFixed(1),colSpan:2};case"Bench Points":return{text:(null===f||void 0===f?void 0:f.toFixed(1))||"-",colSpan:2};case"Total Points":return{text:(null===j||void 0===j?void 0:j.toFixed(1))||"-",colSpan:2};default:return{text:"-",colSpan:2}}};var v=i(9634);const p=i.p+"static/media/taxi.9635820cdd6403173a0d.png",_=e=>{let{includeTaxi:l,setIncludeTaxi:i}=e;return(0,r.jsxs)("div",{className:"relative click",onClick:()=>i(!l),children:[(0,r.jsx)("img",{src:p,className:"thumbnail icon",alt:"include_taxi"}),!l&&(0,r.jsx)("i",{className:"fa-solid fa-ban"})]},"include_taxi")},m=(e,l)=>(0,r.jsx)("span",{className:"team",children:(0,r.jsxs)("label",{children:[(0,r.jsx)("img",{className:"thumbnail icon",alt:"filter_team",src:"https://a.espncdn.com/combiner/i?img=/i/teamlogos/nfl/500/".concat(e,".png"),onError:e=>e.target.src="https://a.espncdn.com/combiner/i?img=/i/teamlogos/leagues/500/nfl.png"}),(0,r.jsxs)("select",{className:"hidden_behind click",onChange:e=>l(e.target.value),value:e,children:[(0,r.jsx)("option",{children:"All"}),["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAX","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"].map((e=>(0,r.jsx)("option",{children:e},e)))]})]})},"team"),h=e=>{let{type:l,...i}=e;switch(l){case"taxi":return(0,r.jsx)(_,{...i});case"team":return(0,r.jsx)(m,{...i});default:return null}};var g=i(6268);const x=e=>{var l,i,o;let{secondaryTable:a}=e;const d=(0,n.I0)(),{state:p,projections:_}=(0,n.v9)((e=>e.common)),{leagues:m,type1:x,type2:y}=(0,n.v9)((e=>e.user)),{includeTaxi:f,week:j,lineupChecks:k,column1:S,column2:b,column3:N,column4:w,column1_prev:F,column2_prev:R,column3_prev:O,column4_prev:C,itemActive:E,page:T,searched:A,playerLineupDict:I,primaryContent:L,sortBy:B,filters:P}=(0,n.v9)((e=>e.lineups)),D="".concat(f,"-",!0),W=j<p.week?["For","Against","Optimal For","Optimal Against","Bench Points","Total Points","Median"]:["Proj FP","Proj FPA","Proj FP (Opt)","Proj FPA (Opt)","Proj Median","Suboptimal","Early/Late Flex","Non QB in SF","Open Roster","Open IR","Open Taxi","Out","Doubtful","Ques","IR","Sus","Opt-Act","Rank","Opp Rank"],U=[[{text:"League",colSpan:6,rowSpan:2,className:"half"},{text:"W/L",className:"half",colSpan:1,rowSpan:2},{text:j<p.week?"Results":"#Slots",colSpan:8,className:"half"}],[{text:(0,r.jsxs)("p",{className:"select",children:[j<p.week?F:S,(0,r.jsx)("select",{value:j<p.week?F:S,className:"hidden_behind click",onChange:e=>d(s({[j<p.week?"column1_prev":"column1"]:e.target.value})),children:W.filter((e=>j<p.week?![R,O,C].includes(e):![b,N,w].includes(e))).map((e=>(0,r.jsx)("option",{children:e},e)))})]}),colSpan:2,className:"small half left"},{text:(0,r.jsxs)("p",{className:"select",children:[j<p.week?R:b,(0,r.jsx)("select",{value:j<p.week?R:b,className:"hidden_behind click",onChange:e=>d(s({[j<p.week?"column2_prev":"column2"]:e.target.value})),children:W.filter((e=>j<p.week?![F,O,C].includes(e):![S,N,w].includes(e))).map((e=>(0,r.jsx)("option",{children:e},e)))})]}),colSpan:2,className:"small half"},{text:(0,r.jsxs)("p",{className:"select",children:[j<p.week?O:N,(0,r.jsx)("select",{value:j<p.week?O:N,className:"hidden_behind click",onChange:e=>d(s({[j<p.week?"column3_prev":"column3"]:e.target.value})),children:W.filter((e=>j<p.week?![F,R,C].includes(e):![S,b,w].includes(e))).map((e=>(0,r.jsx)("option",{children:e},e)))})]}),colSpan:2,className:"small half"},{text:(0,r.jsxs)("p",{className:"select",children:[j<p.week?C:w,(0,r.jsx)("select",{value:j<p.week?C:w,className:"hidden_behind click",onChange:e=>d(s({[j<p.week?"column4_prev":"column4"]:e.target.value})),children:W.filter((e=>j<p.week?![F,R,O].includes(e):![S,b,N].includes(e))).map((e=>(0,r.jsx)("option",{children:e},e)))})]}),colSpan:2,className:"small half end"}]],Q=null===(l=(0,v.y)(m,x,y))||void 0===l||null===(i=l.filter((e=>!A.id||A.id===e.league_id)))||void 0===i?void 0:i.map((e=>{if(j>=p.week){var l,i,t,n,o,s,d,v,m,h,g,x,y,f,E,T,A,I,L,B,P,W,U,Q,M,H,Z,X,G,J,K,Y,V,q,z,$,ee,le,ie,te,ne,oe,se,ae,de,re,ue,ce,ve,pe,_e,me,he,ge,xe,ye,fe,je,ke,Se,be,Ne,we,Fe,Re,Oe,Ce,Ee,Te;const c=null===(l=k[j])||void 0===l||null===(i=l[D])||void 0===i||null===(t=i[e.league_id])||void 0===t||null===(n=t.lc_user)||void 0===n?void 0:n.lineup_check,p=null===(o=k[j])||void 0===o||null===(s=o[D])||void 0===s||null===(d=s[e.league_id])||void 0===d||null===(v=d.lc_user)||void 0===v?void 0:v.matchup,F=null===(m=k[j])||void 0===m||null===(h=m[D])||void 0===h||null===(g=h[e.league_id])||void 0===g||null===(x=g.lc_user)||void 0===x?void 0:x.optimal_lineup,R=null===(y=k[j])||void 0===y||null===(f=y[D])||void 0===f||null===(E=f[e.league_id])||void 0===E||null===(T=E.lc_user)||void 0===T?void 0:T.proj_score_optimal,O=null===(A=k[j])||void 0===A||null===(I=A[D])||void 0===I||null===(L=I[e.league_id])||void 0===L||null===(B=L.lc_user)||void 0===B?void 0:B.proj_score_actual,C=null===(P=k[j])||void 0===P||null===(W=P[D])||void 0===W||null===(U=W[e.league_id])||void 0===U||null===(Q=U.lc_opp)||void 0===Q?void 0:Q.lineup_check,Ae=null===(M=k[j])||void 0===M||null===(H=M[D])||void 0===H||null===(Z=H[e.league_id])||void 0===Z||null===(X=Z.lc_opp)||void 0===X?void 0:X.matchup,Ie=null===(G=k[j])||void 0===G||null===(J=G[D])||void 0===J||null===(K=J[e.league_id])||void 0===K||null===(Y=K.lc_opp)||void 0===Y?void 0:Y.optimal_lineup,Le=null===(V=k[j])||void 0===V||null===(q=V[D])||void 0===q||null===(z=q[e.league_id])||void 0===z||null===($=z.lc_opp)||void 0===$?void 0:$.proj_score_optimal,Be=null===(ee=k[j])||void 0===ee||null===(le=ee[D])||void 0===le||null===(ie=le[e.league_id])||void 0===ie||null===(te=ie.lc_opp)||void 0===te?void 0:te.proj_score_actual,Pe=e.rosters.find((e=>e.roster_id===(null===Ae||void 0===Ae?void 0:Ae.roster_id))),De={...null===(ne=k[j])||void 0===ne||null===(oe=ne[D])||void 0===oe||null===(se=oe[e.league_id])||void 0===se||null===(ae=se.lc_user)||void 0===ae?void 0:ae.players_projections,...null===(de=k[j])||void 0===de||null===(re=de[D])||void 0===re||null===(ue=re[e.league_id])||void 0===ue||null===(ce=ue.lc_opp)||void 0===ce?void 0:ce.players_projections},We=null===(ve=k[j])||void 0===ve||null===(pe=ve[D])||void 0===pe||null===(_e=pe[e.league_id])||void 0===_e?void 0:_e.proj_median;return{id:e.league_id,search:{text:e.name,image:{src:e.avatar,alt:e.name,type:"league"}},list:[{text:e.name,colSpan:6,className:"left",image:{src:e.avatar,alt:e.name,type:"league"}},{text:(0,r.jsxs)(r.Fragment,{children:[null!==(me=k[j])&&void 0!==me&&null!==(he=me[D])&&void 0!==he&&null!==(ge=he[e.league_id])&&void 0!==ge&&ge.lc_user&&null!==(xe=k[j])&&void 0!==xe&&null!==(ye=xe[D])&&void 0!==ye&&null!==(fe=ye[e.league_id])&&void 0!==fe&&fe.lc_opp?1===e.settings.best_ball?R>Le?"W":R<Le?"L":"-":O>Be?"W":O<Be?"L":"-":"-",(null===(je=k[j])||void 0===je||null===(ke=je[D])||void 0===ke||null===(Se=ke[e.league_id])||void 0===Se?void 0:Se.median_win)>0?(0,r.jsx)("i",{className:"fa-solid fa-trophy"}):(null===(be=k[j])||void 0===be||null===(Ne=be[D])||void 0===Ne||null===(we=Ne[e.league_id])||void 0===we?void 0:we.median_loss)>0?(0,r.jsx)("i",{className:"fa-solid fa-poop"}):""]}),colSpan:1,className:null!==(Fe=k[j])&&void 0!==Fe&&null!==(Re=Fe[D])&&void 0!==Re&&null!==(Oe=Re[e.league_id])&&void 0!==Oe&&Oe.lc_user&&null!==(Ce=k[j])&&void 0!==Ce&&null!==(Ee=Ce[D])&&void 0!==Ee&&null!==(Te=Ee[e.league_id])&&void 0!==Te&&Te.lc_opp?1!==e.settings.best_ball?O>Be?"greenb":O<Be?"redb":"-":R>Le?"greenb":R<Le?"redb":"-":"-"},{...u(S,p,c,e,R,O,Le,Be,We,_,j,Pe)},{...u(b,p,c,e,R,O,Le,Be,We,_,j,Pe)},{...u(N,p,c,e,R,O,Le,Be,We,_,j,Pe)},{...u(w,p,c,e,R,O,Le,Be,We,_,j,Pe)}],secondary_table:a({league:e,matchup_user:p,matchup_opp:Ae,lineup_check:c,lineup_check_opp:C,optimal_lineup:F,optimal_lineup_opp:Ie,players_projections:De,proj_score_user_actual:O,proj_score_user_optimal:R,proj_score_opp_actual:Be,proj_score_opp_optimal:Le,opp_username:(null===Pe||void 0===Pe?void 0:Pe.username)||"Orphan",opp_avatar:null===Pe||void 0===Pe?void 0:Pe.avatar,proj_median:We})}}{var Ae,Ie,Le,Be,Pe,De,We,Ue,Qe,Me,He,Ze,Xe;console.log("BEFORE");const l=j<p.week?null===(Ae=k[j])||void 0===Ae?void 0:Ae[e.league_id]:null===(Ie=k[j])||void 0===Ie||null===(Le=Ie[D])||void 0===Le?void 0:Le[e.league_id],i=null===l||void 0===l||null===(Be=l.lc_user)||void 0===Be?void 0:Be.matchup,t=null===l||void 0===l||null===(Pe=l.lc_opp)||void 0===Pe?void 0:Pe.matchup,n={...null===(De=k[j])||void 0===De||null===(We=De[e.league_id])||void 0===We||null===(Ue=We.lc_user)||void 0===Ue?void 0:Ue.players_projections,...null===(Qe=k[j])||void 0===Qe||null===(Me=Qe[e.league_id])||void 0===Me||null===(He=Me.lc_opp)||void 0===He?void 0:He.players_projections},o=null===l||void 0===l?void 0:l.act_median,s=null===l||void 0===l||null===(Ze=l.lc_user)||void 0===Ze?void 0:Ze.proj_score_optimal,d=null===l||void 0===l||null===(Xe=l.lc_opp)||void 0===Xe?void 0:Xe.proj_score_optimal;return{id:e.league_id,search:{text:e.name,image:{src:e.avatar,alt:e.name,type:"league"}},list:[{text:e.name,colSpan:6,className:"left",image:{src:e.avatar,alt:e.name,type:"league"}},{text:(0,r.jsxs)(r.Fragment,{children:[null!==l&&void 0!==l&&l.win?"W":null!==l&&void 0!==l&&l.loss?"L":null!==l&&void 0!==l&&l.tie?"T":"-",1===(null===l||void 0===l?void 0:l.median_win)?(0,r.jsx)("i",{className:"fa-solid fa-trophy"}):1===(null===l||void 0===l?void 0:l.median_loss)?(0,r.jsx)("i",{className:"fa-solid fa-poop"}):null]}),colSpan:1,className:null!==l&&void 0!==l&&l.win?"greenb":null!==l&&void 0!==l&&l.loss?"redb":(null!==l&&void 0!==l&&l.tie,"-")},{...c(F,e.league_id,i,t,o,k,j)},{...c(R,e.league_id,i,t,o,k,j)},{...c(O,e.league_id,i,t,o,k,j)},{...c(C,e.league_id,i,t,o,k,j)}],secondary_table:a({league:e,matchup_user:i,matchup_opp:t,players_projections:n,proj_score_user_optimal:s,proj_score_opp_optimal:d})}}}));return j<p.week&&(null===k||void 0===k||!k[j])||j>=p.week&&(null===k||void 0===k||null===(o=k[j])||void 0===o||!o[D])?(0,r.jsx)(g.Z,{}):(0,r.jsx)(t.Z,{type:"primary",headers:U,body:Q,page:T,setPage:e=>d(s({page:e})),itemActive:E,setItemActive:e=>d(s({itemActive:e})),search:!0,searched:A,setSearched:e=>d(s({searched:e})),options1:[(0,r.jsx)(h,{type:"taxi",includeTaxi:f,setIncludeTaxi:e=>d(s({includeTaxi:e}))})]})},y=e=>{var l,i,o;let{secondaryTable:a}=e;const d=(0,n.I0)(),{allplayers:u,state:c}=(0,n.v9)((e=>e.common)),{username:p,type1:_,type2:m}=(0,n.v9)((e=>e.user)),{page:h,itemActive:g,searched:x,filters:y,playerLineupDict:f,sortBy:j}=(0,n.v9)((e=>e.lineups)),k=[[{text:"Player",colSpan:3,rowSpan:2,className:"half"},{text:p,colSpan:2,className:"half"},{text:"Opp",colSpan:2,className:"half"}],[{text:"Start",colSpan:1,onClick:()=>d(s({sortBy:"start"})),className:"half"},{text:"Bench",colSpan:1,onClick:()=>d(s({sortBy:"bench"})),className:"half"},{text:"Start",colSpan:1,onClick:()=>d(s({sortBy:"start_opp"})),className:"half"},{text:"Bench",colSpan:1,onClick:()=>d(s({sortBy:"bench_opp"})),className:"half"}]],S=null===(l=Object.keys(f))||void 0===l||null===(i=l.filter((e=>{var l,i,t,n,o;return(!x.id||x.id===e)&&(y.position===(null===(l=u[e])||void 0===l?void 0:l.position)||y.position.split("/").includes(null===(i=u[e])||void 0===i||null===(t=i.position)||void 0===t?void 0:t.slice(0,1)))&&("All"===y.team||(null===(n=u[e])||void 0===n?void 0:n.team)===y.team)&&("All"===y.draftClass||parseInt(y.draftClass)===c.league_season-(null===(o=u[parseInt(e)])||void 0===o?void 0:o.years_exp))})))||void 0===i||null===(o=i.sort(((e,l)=>(0,v.y)(f[l][j],_,m).length-(0,v.y)(f[e][j],_,m).length)))||void 0===o?void 0:o.map((e=>{var l,i,t,n,o,s;const d=(0,v.y)((null===(l=f[e])||void 0===l?void 0:l.start)||[],_,m),r=(0,v.y)((null===(i=f[e])||void 0===i?void 0:i.bench)||[],_,m),c=(0,v.y)((null===(t=f[e])||void 0===t?void 0:t.start_opp)||[],_,m),p=(0,v.y)((null===(n=f[e])||void 0===n?void 0:n.bench_opp)||[],_,m);return{id:e,search:{text:null===(o=u[e])||void 0===o?void 0:o.full_name,image:{src:e,alt:"player",type:"player"}},list:[{text:null===(s=u[e])||void 0===s?void 0:s.full_name,image:{src:e,alt:"player",type:"player"},className:"left",colSpan:3},{text:d.length.toString(),colSpan:1},{text:r.length.toString(),colSpan:1},{text:c.length.toString(),colSpan:1},{text:p.length.toString(),colSpan:1}],secondary_table:a({start:d,bench:r,start_opp:c,bench_opp:p})}}));return(0,r.jsx)(t.Z,{type:"primary",headers:k,body:S,page:h,setPage:e=>d(s({page:e})),itemActive:g,setItemActive:e=>d(s({itemActive:e})),search:!0,searched:x,setSearched:e=>d(s({searched:e}))})};var f=i(2791),j=i(8852);const k=e=>{let{week_to_fetch:l,state:i,leagues:t,allplayers:n,schedule:o,projections:s,includeTaxi:a,includeLocked:d,rankings:r,user_id:u,league_ids:c}=e;console.log({week_to_fetch:l,state:i,leagues:t,allplayers:n,schedule:o,projections:s,includeTaxi:a,includeLocked:d,rankings:r,user_id:u});const v=function(e,l){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t={};return null===e||void 0===e||e.map((e=>{Object.keys((null===e||void 0===e?void 0:e.stats)||{}).filter((e=>Object.keys(l).includes(e))).map((i=>{t[i]||(t[i]={stats:0,points:0}),t[i]={stats:t[i].stats+e.stats[i],points:t[i].points+e.stats[i]*l[i]}}))})),i?Object.keys(t).reduce(((e,l)=>e+t[l].points),0):t},p=e=>({SFO:"SF",JAC:"JAX",KCC:"KC",TBB:"TB",GBP:"GB",NEP:"NE",LVR:"LV",NOS:"NO"}[e]||e),_=function(e,l,i,t,n,o,s,a){var d,r;let u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const c={QB:["QB"],RB:["RB","FB"],WR:["WR"],TE:["TE"],FLEX:["RB","FB","WR","TE"],SUPER_FLEX:["QB","RB","FB","WR","TE"],WRRB_FLEX:["RB","FB","WR"],REC_FLEX:["WR","TE"]},_={QB:"QB",RB:"RB",WR:"WR",TE:"TE",SUPER_FLEX:"SF",FLEX:"WRT",WRRB_FLEX:"W R",WRRB_WRT:"W R",REC_FLEX:"W T"},m=l.roster_positions.filter((e=>Object.keys(c).includes(e))),h=l.rosters.find((l=>l.roster_id===e.roster_id));let g=[];null===e||void 0===e||null===(d=e.players)||void 0===d||null===(r=d.filter((e=>!!s||!((null===h||void 0===h?void 0:h.taxi)||[]).includes(e))))||void 0===r||r.map((s=>{var a,d,r,u,c,_;const m=null===o||void 0===o?void 0:o.find((e=>{var l;return e.team.find((e=>{var l;return p(e.id)===(null===(l=i[s])||void 0===l?void 0:l.team)}))||!(null!==(l=i[s])&&void 0!==l&&l.team)}));let h=new Date(parseInt(1e3*(null===o||void 0===o||null===(a=o.find((e=>e.team.find((e=>{var l;return p(e.id)===(null===(l=i[s])||void 0===l?void 0:l.team)})))))||void 0===a?void 0:a.kickoff))).getTime();g.push({id:s,kickoff:h,rank:t?m?null!==(d=t[s])&&void 0!==d&&d.prevRank?null!==(r=e.starters)&&void 0!==r&&r.includes(s)?null===(u=t[s])||void 0===u?void 0:u.prevRank:(null===(c=t[s])||void 0===c?void 0:c.prevRank)+1:null!==(_=e.starters)&&void 0!==_&&_.includes(s)?999:1e3:1001:(v([n[s]],l.scoring_settings,!0)||0)*(parseInt((null===m||void 0===m?void 0:m.gameSecondsRemaining)||0)/3600)+((null===e||void 0===e?void 0:e.players_points[s])||0)})}));let x=e?(()=>{let n=[],o=g;return m.map(((s,d)=>{var r;const u=null===(r=g.find((l=>{var i;return l.id===(null===(i=e.starters)||void 0===i?void 0:i[d])})))||void 0===r?void 0:r.kickoff,v=o.filter((e=>{var t;return(c[s].includes(null===(t=i[e.id])||void 0===t?void 0:t.position)||c[s].some((l=>{var t,n;return null===(t=i[e.id])||void 0===t||null===(n=t.fantasy_positions)||void 0===n?void 0:n.includes(l)})))&&(!a||e.kickoff>(new Date).getTime()||1===l.settings.best_ball)})).sort(((e,l)=>t?e.rank-l.rank:l.rank-e.rank));let p;var m,h;a&&1!==l.settings.best_ball&&u<(new Date).getTime()?p=null===(m=e.starters)||void 0===m?void 0:m[d]:p=null===(h=v[0])||void 0===h?void 0:h.id;o=o.filter((e=>e.id!==p)),n.push({slot:_[s],player:p})})),n})():[];const y=e&&u?(()=>{let t=[];return m.map(((n,o)=>{var s,a,d,r,u,v;const p=((null===e||void 0===e?void 0:e.starters)||[])[o],h=x.find((e=>e.player===p)),y=null===(s=g.find((l=>{var i;return l.id===(null===(i=e.starters)||void 0===i?void 0:i[o])})))||void 0===s?void 0:s.kickoff,f=new Date(y),j=f.getDay()<=2?f.getDay()+7:f.getDay(),k=f.getHours(),S=parseFloat(j+"."+k),b=(null===e||void 0===e||null===(a=e.players)||void 0===a?void 0:a.filter((l=>{var t;return!(e.starters||[]).includes(l)&&c[n].includes(null===(t=i[l])||void 0===t?void 0:t.position)})))||[],N=null===(d=e.starters)||void 0===d?void 0:d.find(((e,t)=>{var o,s,a;const d=null===(o=g.find((l=>l.id===e)))||void 0===o?void 0:o.kickoff,r=new Date(d),u=r.getDay()<=2?r.getDay()+7:r.getDay(),v=r.getHours();parseFloat(u+"."+v);return d>(new Date).getTime()&&y>(new Date).getTime()&&d>y+18e5&&c[n].includes(null===(s=i[e])||void 0===s?void 0:s.position)&&c[m[t]].includes(null===(a=i[p])||void 0===a?void 0:a.position)&&c[l.roster_positions[t]].length<c[n].length})),w=null===(r=e.starters)||void 0===r?void 0:r.find(((e,t)=>{var o,s,a;const d=null===(o=g.find((l=>l.id===e)))||void 0===o?void 0:o.kickoff,r=new Date(d),u=r.getDay()<=2?r.getDay()+7:r.getDay(),v=r.getHours();parseFloat(u+"."+v);return d>(new Date).getTime()&&y>(new Date).getTime()&&d+18e5<y&&c[n].includes(null===(s=i[e])||void 0===s?void 0:s.position)&&c[m[t]].includes(null===(a=i[p])||void 0===a?void 0:a.position)&&c[l.roster_positions[t]].length>c[n].length}));return t.push({index:o,slot:_[n]||"IDP",slot_index:"".concat(_[n],"_").concat(o),current_player:((null===e||void 0===e?void 0:e.starters)||[])[o]||"0",notInOptimal:!h,earlyInFlex:N,lateNotInFlex:w,nonQBinSF:c[n].includes("QB")&&"QB"!==(null===(u=i[((null===e||void 0===e?void 0:e.starters)||[])[o]])||void 0===u?void 0:u.position),slot_options:b,player:(null===e||void 0===e?void 0:e.starters)&&(null===(v=i[null===e||void 0===e?void 0:e.starters[o]])||void 0===v?void 0:v.full_name)||"0",timeslot:S})})),t})():[],f=Object.fromEntries(g.map((e=>[e.id,parseFloat(e.rank)]))),j=null===x||void 0===x?void 0:x.map((e=>e.player));return{players_projections:f,starting_slots:m,optimal_lineup:x,lineup_check:y,matchup:e,proj_score_actual:Object.keys(f||{}).filter((l=>{var i;return null===(i=e.starters)||void 0===i?void 0:i.includes(l)})).reduce(((e,l)=>e+(f||{})[l]),0),proj_score_optimal:Object.keys(f||{}).filter((e=>null===j||void 0===j?void 0:j.includes(e))).reduce(((e,l)=>e+((f||{})[l]||0)),0)}};let m;return console.log("getting projections for week ".concat(l)),m=l<i.week?(e=>{let l={};return t.filter((l=>(!c||(null===c||void 0===c?void 0:c.includes(l.league_id)))&&l["matchups_".concat(e)])).map((i=>{const t=i["matchups_".concat(e)].find((e=>e.roster_id===i.userRoster.roster_id)),u=i["matchups_".concat(e)].find((e=>e.matchup_id===t.matchup_id&&e.roster_id!==i.userRoster.roster_id)),c=t&&_(t,i,n,r,s[e],o[e],a,d),v=u&&_(u,i,n,r,s[e],o[e],a,d);let p,m,h;var g,x,y,f;e>=i.settings.start_week&&t&&u?(null===c||void 0===c||null===(g=c.matchup)||void 0===g?void 0:g.points)>(null===v||void 0===v||null===(x=v.matchup)||void 0===x?void 0:x.points)?(p=1,m=0,h=0):(null===c||void 0===c||null===(y=c.matchup)||void 0===y?void 0:y.points)<(null===v||void 0===v||null===(f=v.matchup)||void 0===f?void 0:f.points)?(p=0,m=1,h=0):(p=0,m=0,h=1):(p=0,m=0,h=0);let j=0,k=0,S="-";if(1===i.settings.league_average_match&&e>=i.settings.start_week){var b;const l=null===(b=i["matchups_".concat(e)])||void 0===b?void 0:b.sort(((e,l)=>l.points-e.points)),t=null===l||void 0===l?void 0:l.findIndex((e=>e.roster_id===i.userRoster.roster_id));S=(l[l.length/2].points+l[l.length/2-1].points)/2,t+1<=i.rosters.length/2?j++:k++}return l[i.league_id]={name:i.name,avatar:i.avatar,lc_user:c,lc_opp:v,win:p,loss:m,tie:h,median_win:j,median_loss:k,act_median:S}})),l})(l):(e=>{let l={};return t.filter((l=>(!c||(null===c||void 0===c?void 0:c.includes(l.league_id)))&&l["matchups_".concat(e)])).map((i=>{var t,c,v;const p=1===i.settings.best_ball?"optimal":"actual",m=null===(t=i.rosters.find((e=>e.user_id===u)))||void 0===t?void 0:t.roster_id,h=i["matchups_".concat(e)].find((e=>e.roster_id===m)),g=i["matchups_".concat(e)].find((e=>e.matchup_id===h.matchup_id&&e.roster_id!==m)),x=h&&_(h,i,n,r,s[e],o[e],a,d,!0),y=g&&_(g,i,n,r,s[e],o[e],a,d,!0),f=null===(c=i["matchups_".concat(e)])||void 0===c||null===(v=c.map((l=>l&&_(l,i,n,r,s[e],o[e],a,d))))||void 0===v?void 0:v.sort(((e,l)=>1===i.settings.best_ball?l.proj_score_optimal-e.proj_score_optimal:l.proj_score_actual-e.proj_score_actual)),j=null===f||void 0===f?void 0:f.findIndex((e=>e.matchup.roster_id===m));let k,S,b;e>=i.settings.start_week&&h&&g?x["proj_score_".concat(p)]>y["proj_score_".concat(p)]?(k=1,S=0,b=0):x["proj_score_".concat(p)]<y["proj_score_".concat(p)]?(k=0,S=1,b=0):(k=0,S=0,b=1):(k=0,S=0,b=0);const N=1===i.settings.league_average_match&&j+1<=i.rosters.length/2?1:0,w=1===i.settings.league_average_match&&j+1>=i.rosters.length/2?1:0;let F="-";if(1===i.settings.league_average_match){var R,O;const e=null===(R=f[(null===f||void 0===f?void 0:f.length)/2])||void 0===R?void 0:R["proj_score_".concat(p)],l=null===(O=f[(null===f||void 0===f?void 0:f.length)/2-1])||void 0===O?void 0:O["proj_score_".concat(p)];e&&l||console.log("UNDEFINED - "+i.name),F=e&&l&&(e+l)/2}return l[i.league_id]={name:i.name,avatar:i.avatar,lc_user:x,lc_opp:y,win:k,loss:S,tie:b,median_win:N,median_loss:w,proj_median:F,standings:Object.fromEntries(f.map((e=>{const l=f.find((l=>l.matchup.matchup_id===e.matchup.matchup_id&&l.matchup.roster_id!==e.matchup.roster_id)),t=null===f||void 0===f?void 0:f.findIndex((l=>l.matchup.roster_id===e.matchup.roster_id)),n=1===i.settings.league_average_match&&t+1<=i.rosters.length/2?1:0,o=1===i.settings.league_average_match&&t+1>=i.rosters.length/2?1:0;return[e.matchup.roster_id,{wins:(e.proj_score_optimal>l.proj_score_optimal?1:0)+n,losses:(e.proj_score_optimal<l.proj_score_optimal?1:0)+o,ties:e.proj_score_optimal+l.proj_score_optimal>0&&e.proj_score_optimal===l.proj_score_optimal?1:0,fp:e.proj_score_optimal,fpa:l.proj_score_optimal}]})))}})),l})(l),{week:l,projectedRecordWeek:m}},S=()=>{const e=(0,n.I0)(),{state:l,allplayers:i,schedule:t,projections:o}=(0,n.v9)((e=>e.common)),{user_id:d,leagues:r,matchups:u,syncing:c,isLoadingMatchups:v}=(0,n.v9)((e=>e.user)),{includeTaxi:p,week:_,lineupChecks:m,rankings:h,recordType:g,isLoadingProjectionDict:x,itemActive2:y,secondaryContent1:S,secondaryContent2:b}=(0,n.v9)((e=>e.lineups)),N="".concat(p,"-",!0);(0,f.useEffect)((()=>{var i;if(r&&l)if(t&&o&&(u||v)){if(null!==(i=m[_])&&void 0!==i&&i[N]){const l={};r.forEach((e=>{var i,t,n,o,s,a,d,r,u,c,v,p;const h=null===(i=e["matchups_".concat(_)])||void 0===i?void 0:i.find((l=>l.roster_id===e.userRoster.roster_id)),g=null===(t=e["matchups_".concat(_)])||void 0===t?void 0:t.find((e=>e.matchup_id===h.matchup_id&&e.roster_id!==h.roster_id)),x=null===(n=m[_])||void 0===n||null===(o=n[N])||void 0===o||null===(s=o[e.league_id])||void 0===s||null===(a=s.lc_user)||void 0===a?void 0:a.optimal_lineup,y=null===(d=m[_])||void 0===d||null===(r=d[N])||void 0===r||null===(u=r[e.league_id])||void 0===u||null===(c=u.lc_opp)||void 0===c?void 0:c.optimal_lineup,f=1===e.settings.best_ball?(null===x||void 0===x?void 0:x.map((e=>e.player)))||[]:(null===h||void 0===h?void 0:h.starters)||[];null===h||void 0===h||null===(v=h.players)||void 0===v||v.forEach((i=>{l[i]||(l[i]={start:[],bench:[],start_opp:[],bench_opp:[]}),null!==f&&void 0!==f&&f.includes(i)?l[i].start.push(e):l[i].bench.push(e)}));const j=1===e.settings.best_ball?(null===y||void 0===y?void 0:y.map((e=>e.player)))||[]:(null===g||void 0===g?void 0:g.starters)||[];null===g||void 0===g||null===(p=g.players)||void 0===p||p.forEach((i=>{l[i]||(l[i]={start:[],bench:[],start_opp:[],bench_opp:[]}),null!==j&&void 0!==j&&j.includes(i)?l[i].start_opp.push(e):l[i].bench_opp.push(e)}))})),e(s({playerLineupDict:l}))}}else t?u||v?o||e((0,j.wR)("projections")):e(a()):e((0,j.wR)("schedule"))}),[r,u,_,v,t,o,m,_,N,e]);const w=Array.from(Array(18).keys()).map((e=>e+1)).filter((e=>{return e<l.week?!m[e]:!(null!==(i=m[e])&&void 0!==i&&i["true-true"]);var i}));(0,f.useEffect)((()=>{const n=(n,a,u,c)=>{e(s({isLoadingProjectionDict:!0}));new Worker("/getRecordDictWeekWorker.js");const v=k({week_to_fetch:n,state:l,leagues:r,allplayers:i,schedule:t,projections:o,includeTaxi:a,includeLocked:u,rankings:h,user_id:d,recordType:g,league_ids:c});var p;v.week<l.week?e(s({lineupChecks:{...m,[v.week]:{...m[v.week],...v.projectedRecordWeek}}})):(console.log({result:v}),e(s({lineupChecks:{...m,[v.week]:{...m[v.week],["".concat(a,"-").concat(u)]:{...null===(p=m[v.week])||void 0===p?void 0:p["".concat(a,"-").concat(u)],...v.projectedRecordWeek}}}})))};var a,v,y,f;if(r&&i&&t&&o&&u)if((_<l.week&&(!m[_]||m[_]&&Object.keys(m[_]).find((e=>{var l;return!0===(null===(l=m[_][e])||void 0===l?void 0:l.edited)})))||_>=l.week&&(null===(a=m[_])||void 0===a||!a["".concat(p,"-",!0)]||Object.keys(null===(v=m[_])||void 0===v?void 0:v["".concat(p,"-",!0)]).find((e=>{var l,i,t;return!0===(null===(l=m[_])||void 0===l||null===(i=l["".concat(p,"-",!0)])||void 0===i||null===(t=i[e])||void 0===t?void 0:t.edited)}))))&&!x){var j,N;const e=c?[c.league_id]:_<l.week&&m[_]?Object.keys(m[_]).filter((e=>{var l;return!0===(null===(l=m[_][e])||void 0===l?void 0:l.edited)})):!!(_>=l.week&&null!==(j=m[_])&&void 0!==j&&j["".concat(p,"-",!0)])&&Object.keys(null===(N=m[_])||void 0===N?void 0:N["".concat(p,"-",!0)]).find((e=>{var l,i,t;return!0===(null===(l=m[_])||void 0===l||null===(i=l["".concat(p,"-",!0)])||void 0===i||null===(t=i[e])||void 0===t?void 0:t.edited)}));console.log("Syncing ".concat(e)),n(_,p,!0,e)}else if(("Optimal"===S||"Optimal"===b)&&(_<l.week&&(!m[_]||m[_]&&Object.keys(m[_]).find((e=>{var l;return!0===(null===(l=m[_][e])||void 0===l?void 0:l.edited)})))||_>=l.week&&(null===(y=m[_])||void 0===y||!y["".concat(p,"-",!1)]||Object.keys(null===(f=m[_])||void 0===f?void 0:f["".concat(p,"-",!1)]).find((e=>{var l,i,t;return!0===(null===(l=m[_])||void 0===l||null===(i=l["".concat(p,"-",!1)])||void 0===i||null===(t=i[e])||void 0===t?void 0:t.edited)}))))&&!x){var w,F;const e=c?[c.league_id]:_<l.week&&m[_]?Object.keys(m[_]).filter((e=>{var l;return!0===(null===(l=m[_][e])||void 0===l?void 0:l.edited)})):!!(_>=l.week&&null!==(w=m[_])&&void 0!==w&&w["".concat(p,"-",!1)])&&Object.keys(null===(F=m[_])||void 0===F?void 0:F["".concat(p,"-",!1)]).find((e=>{var l,i,t;return!0===(null===(l=m[_])||void 0===l||null===(i=l["".concat(p,"-",!1)])||void 0===i||null===(t=i[e])||void 0===t?void 0:t.edited)}));console.log("Syncing ".concat(e)),n(_,p,!1,e)}}),[r,_,w,l,i,t,o,e,p,m,h,d,g,x,u,m]),(0,f.useEffect)((()=>{var i,t,n,o;x&&((_<l.week&&m[_]&&(!m[_]||!Object.keys(m[_]).find((e=>{var l;return!0===(null===(l=m[_][e])||void 0===l?void 0:l.edited)})))||_>=l.week&&null!==(i=m[_])&&void 0!==i&&i["".concat(p,"-",!0)]&&!Object.keys(null===(t=m[_])||void 0===t?void 0:t["".concat(p,"-",!0)]).find((e=>{var l,i,t;return!0===(null===(l=m[_])||void 0===l||null===(i=l["".concat(p,"-",!0)])||void 0===i||null===(t=i[e])||void 0===t?void 0:t.edited)}))||("Optimal"===S||"Optimal"===b)&&(_<l.week&&m[_]&&(!m[_]||!Object.keys(m[_]).find((e=>{var l;return!0===(null===(l=m[_][e])||void 0===l?void 0:l.edited)})))||_>=l.week&&null!==(n=m[_])&&void 0!==n&&n["".concat(p,"-",!1)]&&!Object.keys(null===(o=m[_])||void 0===o?void 0:o["".concat(p,"-",!1)]).find((e=>{var l,i,t;return!0===(null===(l=m[_])||void 0===l||null===(i=l["".concat(p,"-",!1)])||void 0===i||null===(t=i[e])||void 0===t?void 0:t.edited)}))))&&(e(s({isLoadingProjectionDict:!1})),c&&e((0,j.fL)({syncing:!1},"USER"))))}),[e,x,_,l,m,p,c,w]),(0,f.useEffect)((()=>{const l=Object.keys(m);if(18===l.length&&!l.includes("totals")){console.log("Getting Totals...");const l={};r.filter((e=>"in_season"===e.settings.status)).forEach((e=>{const i={};e.rosters.forEach((l=>{const t=Object.keys(m).filter((l=>parseInt(l)>=e.settings.start_week&&parseInt(l)<e.settings.playoff_week_start)).reduce(((i,t)=>{var n,o,s,a;const d=null===(n=m[t])||void 0===n||null===(o=n["true-true"])||void 0===o||null===(s=o[e.league_id])||void 0===s||null===(a=s.standings)||void 0===a?void 0:a[l.roster_id];return{wins:i.wins+((null===d||void 0===d?void 0:d.wins)||0),losses:i.losses+((null===d||void 0===d?void 0:d.losses)||0),ties:i.ties+((null===d||void 0===d?void 0:d.ties)||0),fp:i.fp+((null===d||void 0===d?void 0:d.fp)||0),fpa:i.fpa+((null===d||void 0===d?void 0:d.fpa)||0)}}),{wins:l.settings.wins,losses:l.settings.losses,ties:l.settings.ties,fp:parseFloat(l.settings.fpts+"."+(l.settings.fpts_decimal||0)),fpa:parseFloat(l.settings.fpts_against+"."+(l.settings.fpts_against_decimal||0))});i[l.roster_id]={...t,user_id:l.user_id,username:l.username,avatar:l.avatar}})),l[e.league_id]=i})),e(s({lineupChecks:{...m,totals:l}}))}}),[e,m]),(0,f.useEffect)((()=>{e(s(y?{secondaryContent:"Options"}:{secondaryContent:"Optimal"}))}),[y,e])},b=e=>{let{secondaryTable:l}=e;const{primaryContent:i}=(0,n.v9)((e=>e.lineups));return S(),"Lineup Check"===i?(0,r.jsx)(x,{secondaryTable:l}):(0,r.jsx)(y,{secondaryTable:l})};var N=i(78),w=i(758);const F=e=>({SFO:"SF",JAC:"JAX",KCC:"KC",TBB:"TB",GBP:"GB",NEP:"NE",LVR:"LV",NOS:"NO"}[e]||e),R=e=>{var l,i,d,u,c,v,p,_,m,h,g,x,y,f;let{league:j,matchup_user:k,lineup_check:S,optimal_lineup:b,matchup_opp:R,lineup_check_opp:O,optimal_lineup_opp:C,players_projections:E,proj_score_user_actual:T,proj_score_user_optimal:A,proj_score_opp_actual:I,proj_score_opp_optimal:L,opp_username:B,proj_median:P}=e;const D=(0,n.I0)(),{state:W,projections:U,allplayers:Q,rankings:M,schedule:H}=(0,n.v9)((e=>e.common)),{syncing:Z,username:X,user_id:G}=(0,n.v9)((e=>e.user)),{week:J,secondaryContent1:K,secondaryContent2:Y,itemActive2:V}=(0,n.v9)((e=>e.lineups)),q=null===j||void 0===j?void 0:j.rosters.find((e=>e.roster_id===(null===R||void 0===R?void 0:R.roster_id))),z=null===S||void 0===S||null===(l=S.find((e=>"".concat(e.slot,"_").concat(e.index)===V)))||void 0===l?void 0:l.current_player,$=null===b||void 0===b?void 0:b.reduce(((e,l)=>e+k.players_points[l.player]),0),ee=null===C||void 0===C?void 0:C.reduce(((e,l)=>e+(R.players_points[l.player]||0)),0),le=e=>{D((0,w.fL)({syncing:{league_id:e,week:J}})),D(((e,l,i,t)=>async(n,s)=>{n({type:"SYNC_LEAGUE_START"});const a=s(),{common:d}=a;try{var r;const s=await o.Z.post("/league/sync",{league_id:e,username:i,week:t});console.log(s.data);const u="".concat(a.lineups.includeTaxi,"-").concat(a.lineups.includeLocked),c=a.lineups.lineupChecks,v=null===(r=s.data.rosters)||void 0===r?void 0:r.find((e=>{var i;return e.user_id===l||(null===(i=e.co_owners)||void 0===i?void 0:i.find((e=>(null===e||void 0===e?void 0:e.user_id)===l)))}));n({type:"SYNC_LEAGUES_SUCCESS",payload:{league:{...s.data,userRoster:v},state:d.state}}),t<d.state.display_week?n({type:"SET_STATE_LINEUPS",payload:{lineupChecks:{...c,[t]:{...c[t],[e]:{...c[t][e],edited:!0}}}}}):n({type:"SET_STATE_LINEUPS",payload:{lineupChecks:{...c,[t]:{...c[t],[u]:{...c[t][u],[e]:{...c[t][u][e],edited:!0}}}}}})}catch(u){console.error(u.message),n({type:"SYNC_LEAGUES_FAILURE"})}})(e,G,X,J)),D(a())};console.log({oppRoster:q});const ie=e=>{switch(e){case"Questionable":return"Q";case"Sus":return"S";case"Doubtful":return"D";case"Out":return"O";case"IR":return"IR";default:return""}},te=[[{text:"Lineup"===K&&1!==j.settings.best_ball?(0,r.jsxs)(r.Fragment,{children:[null===k||void 0===k?void 0:k.points," ",(0,r.jsxs)("em",{children:["(",null===T||void 0===T?void 0:T.toFixed(2),")"]})]}):"Optimal"===K||1===j.settings.best_ball?(0,r.jsxs)(r.Fragment,{children:[null===$||void 0===$?void 0:$.toFixed(2)," ",(0,r.jsxs)("em",{children:["(",null===A||void 0===A?void 0:A.toFixed(2),")"]})]}):"",colSpan:23,className:"half"}],[{text:"Slot",colSpan:3,className:"half"},{text:"Player",colSpan:10,className:"half"},{text:"Opp",colSpan:3,className:"half"},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:"Pts"}),M?(0,r.jsx)("p",{children:"Rank"}):(0,r.jsx)("em",{children:"Proj"})]}),colSpan:7,className:"half"}]];console.log({itemActive2:V});const ne="Lineup"===K&&1!==j.settings.best_ball?null===S||void 0===S?void 0:S.map(((e,l)=>{var i,t,n,o,s,a,d,u,c,v,p,_;const m=b.find((l=>l.player===e.current_player))?e.earlyInFlex||e.lateNotInFlex?"yellow":"":"red";return{id:e.slot_index,list:k?[{text:null===S||void 0===S||null===(i=S.find((l=>l.current_player===e.current_player)))||void 0===i?void 0:i.slot,colSpan:3,className:m},{text:(0,r.jsxs)(r.Fragment,{children:[(null===(t=Q[e.current_player])||void 0===t?void 0:t.full_name)||"Empty",(0,r.jsx)("span",{className:"player_inj_status",children:ie(null===(n=U[J])||void 0===n||null===(o=n[e.current_player])||void 0===o?void 0:o.injury_status)})]}),colSpan:10,className:m+" left relative",image:{src:e.current_player,alt:null===(s=Q[e.current_player])||void 0===s?void 0:s.full_name,type:"player"}},{text:F(null===(a=H[J])||void 0===a||null===(d=a.find((l=>l.team.find((l=>{var i;return F(l.id)===(null===(i=Q[e.current_player])||void 0===i?void 0:i.team)})))))||void 0===d||null===(u=d.team)||void 0===u||null===(c=u.find((l=>{var i;return F(l.id)!==(null===(i=Q[e.current_player])||void 0===i?void 0:i.team)})))||void 0===c?void 0:c.id)||"FA",colSpan:3,className:m},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:(null===k||void 0===k||null===(v=k.players_points[e.current_player])||void 0===v?void 0:v.toFixed(1))||"-"}),M?(0,r.jsx)("p",{children:(null===(p=M[e.current_player])||void 0===p?void 0:p.prevRank)||999}):(0,r.jsx)("em",{children:(null===(_=E[e.current_player])||void 0===_?void 0:_.toFixed(1))||"-"})]}),colSpan:7,className:m}]:[]}})):null===b||void 0===b?void 0:b.map(((e,l)=>{var i,t,n,o,s,a,d,u,c,v;return{id:e.slot+"__"+l,list:[{text:e.slot,colSpan:3},{text:(0,r.jsxs)(r.Fragment,{children:[(null===(i=Q[e.player])||void 0===i?void 0:i.full_name)||(null===(t=e.player)||void 0===t?void 0:t.toString()),(0,r.jsx)("span",{className:"player_inj_status",children:ie(null===(n=U[J])||void 0===n||null===(o=n[e.player])||void 0===o?void 0:o.injury_status)})]}),colSpan:10,className:"left relative",image:{src:e.player,alt:null===(s=Q[e.player])||void 0===s?void 0:s.full_name,type:"player"}},{text:F(null===(a=H[W.week])||void 0===a||null===(d=a.find((l=>l.team.find((l=>{var i;return F(l.id)===(null===(i=Q[e.player])||void 0===i?void 0:i.team)})))))||void 0===d||null===(u=d.team)||void 0===u||null===(c=u.find((l=>{var i;return F(l.id)!==(null===(i=Q[e.player])||void 0===i?void 0:i.team)})))||void 0===c?void 0:c.id)||"FA",colSpan:3},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:(null===k||void 0===k?void 0:k.players_points[e.player].toFixed(1))||"-"}),M?(0,r.jsx)("p",{children:(null===(v=M[e.player])||void 0===v?void 0:v.prevRank)||999}):(0,r.jsx)("em",{children:(E[e.player]||0).toFixed(1)||"-"})]}),colSpan:7}]}}));let oe;var se;J>=W.week&&(oe=null===(se=(null===k||void 0===k?void 0:k.players)||[])||void 0===se?void 0:se.filter((e=>!b.find((l=>l.player===e)))),oe="SF"===V.split("__")[0]?oe.filter((e=>{var l;return["QB","RB","FB","WR","TE"].includes(null===(l=Q[e])||void 0===l?void 0:l.position)})):"WRT"===V.split("__")[0]?oe.filter((e=>{var l;return["RB","FB","WR","TE"].includes(null===(l=Q[e])||void 0===l?void 0:l.position)})):"W R"===V.split("__")[0]?oe.filter((e=>{var l;return["RB","FB","WR"].includes(null===(l=Q[e])||void 0===l?void 0:l.position)})):"W T"===V.split("__")[0]?oe.filter((e=>{var l;return["WR","TE"].includes(null===(l=Q[e])||void 0===l?void 0:l.position)})):oe.filter((e=>{var l;return(null===(l=Q[e])||void 0===l?void 0:l.position)===V.split("__")[0]})));const ae=[[{text:(0,r.jsxs)(r.Fragment,{children:["Lineup"===Y&&1!==j.settings.best_ball?(0,r.jsxs)(r.Fragment,{children:[null===R||void 0===R?void 0:R.points," ",(0,r.jsxs)("em",{children:["(",null===I||void 0===I?void 0:I.toFixed(2),")"]})]}):"Optimal"===Y||1===j.settings.best_ball?(0,r.jsxs)(r.Fragment,{children:[null===ee||void 0===ee?void 0:ee.toFixed(2)," ",(0,r.jsxs)("em",{children:["(",null===L||void 0===L?void 0:L.toFixed(2),")"]})]}):"",parseFloat(P)?(0,r.jsxs)("em",{children:[" Median: (",P.toFixed(2),")"]}):null]}),colSpan:23,className:"half"}],[{text:"Slot",colSpan:3,className:"half"},{text:"Player",colSpan:10,className:"half"},{text:"Opp",colSpan:3,className:"half"},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:"Pts"}),M?(0,r.jsx)("p",{children:"Rank"}):(0,r.jsx)("em",{children:"Proj"})]}),colSpan:7,className:"half"}]],de=V?V.includes("__")?null===(i=oe)||void 0===i||null===(d=i.sort(((e,l)=>(E[l]||0)-(E[e]||0))))||void 0===d?void 0:d.map(((e,l)=>{var i,t,n,o,s,a,d,u,c,v,p;return{id:e,list:[{text:null===(i=Q[e])||void 0===i?void 0:i.position,colSpan:3},{text:(0,r.jsxs)(r.Fragment,{children:[(null===(t=Q[e])||void 0===t?void 0:t.full_name)||"Empty",(0,r.jsx)("span",{className:"player_inj_status",children:ie(null===(n=U[J])||void 0===n||null===(o=n[e])||void 0===o?void 0:o.injury_status)})]}),colSpan:10,className:"left relative",image:{src:e,alt:null===(s=Q[e])||void 0===s?void 0:s.full_name,type:"player"}},{text:F(null===(a=H[W.week])||void 0===a||null===(d=a.find((l=>l.team.find((l=>{var i;return F(l.id)===(null===(i=Q[e])||void 0===i?void 0:i.team)})))))||void 0===d||null===(u=d.team)||void 0===u||null===(c=u.find((l=>{var i;return F(l.id)!==(null===(i=Q[e])||void 0===i?void 0:i.team)})))||void 0===c?void 0:c.id)||"FA",colSpan:3},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:null===(v=(null===R||void 0===R?void 0:R.players_points[e])||0)||void 0===v?void 0:v.toFixed(1)}),M?(0,r.jsx)("p",{children:(null===(p=M[e])||void 0===p?void 0:p.prevRank)||999}):(0,r.jsx)("em",{children:(E[e]||0).toFixed(1)||"-"})]}),colSpan:7}]}})):[{id:"warning",list:[{text:"0"===(null===S||void 0===S||null===(u=S.find((e=>e.slot_index===V)))||void 0===u?void 0:u.current_player)?"Empty Slot":null!==S&&void 0!==S&&null!==(c=S.find((e=>e.slot_index===V)))&&void 0!==c&&c.notInOptimal?"Move Out Of Lineup":null!==S&&void 0!==S&&null!==(v=S.find((e=>e.slot_index===V)))&&void 0!==v&&v.earlyInFlex?"Move Out Of Flex":null!==S&&void 0!==S&&null!==(p=S.find((e=>e.slot_index===V)))&&void 0!==p&&p.lateNotInFlex?"Move Into Flex":"\u221a",colSpan:23,className:null!==S&&void 0!==S&&null!==(_=S.find((e=>e.slot_index===V)))&&void 0!==_&&_.notInOptimal?"red":null!==S&&void 0!==S&&null!==(m=S.find((e=>e.slot_index===V)))&&void 0!==m&&m.earlyInFlex||null!==S&&void 0!==S&&null!==(h=S.find((e=>e.slot_index===V)))&&void 0!==h&&h.lateNotInFlex?"yellow":"green"}]},...null===(g=(null===S||void 0===S||null===(y=S.find((e=>e.slot_index===V)))||void 0===y?void 0:y.slot_options)||[])||void 0===g||null===(x=g.sort(((e,l)=>{var i,t;return M&&((null===(i=M[e])||void 0===i?void 0:i.prevRank)||999)-((null===(t=M[l])||void 0===t?void 0:t.prevRank)||999)||E[l]-E[e]})))||void 0===x?void 0:x.map(((e,l)=>{var i,t,n,o,s,a,d,u,c,v,p;const _=b.find((l=>l.player===e))?"green":(null===(i=Q[e])||void 0===i?void 0:i.rank_ecr)<(null===(t=Q[z])||void 0===t?void 0:t.rank_ecr)?"yellow":"";return{id:e,list:[{text:"BN",colSpan:3,className:_},{text:(0,r.jsxs)(r.Fragment,{children:[(null===(n=Q[e])||void 0===n?void 0:n.full_name)||"Empty",(0,r.jsx)("span",{className:"player_inj_status",children:ie(null===(o=U[J])||void 0===o||null===(s=o[e])||void 0===s?void 0:s.injury_status)})]}),colSpan:10,className:_+" left relative",image:{src:e,alt:null===(a=Q[e])||void 0===a?void 0:a.full_name,type:"player"}},{text:F(null===(d=H[W.week])||void 0===d||null===(u=d.find((l=>l.team.find((l=>{var i;return F(l.id)===(null===(i=Q[e])||void 0===i?void 0:i.team)})))))||void 0===u||null===(c=u.team)||void 0===c||null===(v=c.find((l=>{var i;return F(l.id)!==(null===(i=Q[e])||void 0===i?void 0:i.team)})))||void 0===v?void 0:v.id)||"FA",colSpan:3,className:_},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:(null===k||void 0===k?void 0:k.players_points[e].toFixed(1))||"-"}),M?(0,r.jsx)("p",{children:(null===(p=M[e])||void 0===p?void 0:p.prevRank)||999}):(0,r.jsx)("em",{children:(E[e]||0).toFixed(1)})]}),colSpan:7}]}}))]:"Optimal"===Y?null===C||void 0===C?void 0:C.map(((e,l)=>{var i,t,n,o,s,a,d,u,c,v,p;return{id:e.player||e,list:[{text:null===(i=O[l])||void 0===i?void 0:i.slot,colSpan:3},{text:(0,r.jsxs)(r.Fragment,{children:[(null===(t=Q[e.player||e])||void 0===t?void 0:t.full_name)||"Empty",(0,r.jsx)("span",{className:"player_inj_status",children:ie(null===(n=U[J])||void 0===n||null===(o=n[e.player||e])||void 0===o?void 0:o.injury_status)})]}),colSpan:10,className:"left relative",image:{src:e.player||e,alt:null===(s=Q[e.player||e])||void 0===s?void 0:s.full_name,type:"player"}},{text:F(null===(a=H[W.week])||void 0===a||null===(d=a.find((l=>l.team.find((l=>{var i;return F(l.id)===(null===(i=Q[e.player])||void 0===i?void 0:i.team)})))))||void 0===d||null===(u=d.team)||void 0===u||null===(c=u.find((l=>{var i;return F(l.id)!==(null===(i=Q[e.player])||void 0===i?void 0:i.team)})))||void 0===c?void 0:c.id)||"FA",colSpan:3},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:(null===R||void 0===R||null===(v=R.players_points[e.player||e])||void 0===v?void 0:v.toFixed(1))||"-"}),M?(0,r.jsx)("p",{children:(null===(p=M[e.player||e])||void 0===p?void 0:p.prevRank)||999}):(0,r.jsx)("em",{children:(E[e.player]||0).toFixed(1)||"-"})]}),colSpan:7}]}})):null===R||void 0===R||null===(f=R.starters)||void 0===f?void 0:f.map(((e,l)=>{var i,t,n,o,s,a,d,u,c,v,p;return{id:e,list:[{text:null===O||void 0===O||null===(i=O[l])||void 0===i?void 0:i.slot,colSpan:3},{text:(0,r.jsxs)(r.Fragment,{children:[(null===(t=Q[e])||void 0===t?void 0:t.full_name)||"Empty",(0,r.jsx)("span",{className:"player_inj_status",children:ie(null===(n=U[J])||void 0===n||null===(o=n[e])||void 0===o?void 0:o.injury_status)})]}),colSpan:10,className:"left relative",image:{src:e,alt:null===(s=Q[e])||void 0===s?void 0:s.full_name,type:"player"}},{text:F(null===(a=H[W.week])||void 0===a||null===(d=a.find((l=>l.team.find((l=>{var i;return F(l.id)===(null===(i=Q[e])||void 0===i?void 0:i.team)})))))||void 0===d||null===(u=d.team)||void 0===u||null===(c=u.find((l=>{var i;return F(l.id)!==(null===(i=Q[e])||void 0===i?void 0:i.team)})))||void 0===c?void 0:c.id)||"FA",colSpan:3},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{children:(null===R||void 0===R||null===(v=R.players_points[e])||void 0===v?void 0:v.toFixed(1))||"-"}),M?(0,r.jsx)("p",{children:(null===(p=M[e])||void 0===p?void 0:p.prevRank)||999}):(0,r.jsx)("em",{children:(E[e]||0).toFixed(1)||"-"})]}),colSpan:7}]}}));return J<W.week?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"secondary nav",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"Lineup"===K?"active click":"click",onClick:()=>D(s({secondaryContent1:"Lineup"})),children:"Lineup"}),(0,r.jsx)("p",{className:"username",children:X}),(0,r.jsx)("button",{className:"Optimal"===K?"active click":"click",onClick:()=>D(s({secondaryContent1:"Optimal"})),disabled:!0,children:"Optimal"})]}),(0,r.jsx)("button",{className:"sync ".concat(Z?"rotate":"click"),onClick:Z?null:()=>le(j.league_id),children:(0,r.jsx)("i",{className:"fa-solid fa-arrows-rotate ".concat(Z?"rotate":"")})}),(0,r.jsx)("div",{children:V?(0,r.jsx)("button",{className:"active click",onClick:()=>D(s({itemActive2:""})),children:"Options"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"Lineup"===Y?"active click":"click",onClick:()=>D(s({secondaryContent2:"Lineup"})),children:"Lineup"}),(0,r.jsx)("p",{className:"username",children:null===q||void 0===q?void 0:q.username}),(0,r.jsx)("button",{className:"Optimal"===Y?"active click":"click",onClick:()=>D(s({secondaryContent2:"Optimal"})),disabled:!0,children:"Optimal"})]})})]}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{league:j,roster:{...j.userRoster,players:(null===k||void 0===k?void 0:k.players)||[],starters:(null===k||void 0===k?void 0:k.starters)||[]},type:"secondary half",previous:!0,players_projections:E,players_points:null===k||void 0===k?void 0:k.players_points,total_points:"Lineup"===K?null===k||void 0===k?void 0:k.points:A}),(0,r.jsx)(N.Z,{league:j,roster:{...q,players:(null===R||void 0===R?void 0:R.players)||[],starters:(null===R||void 0===R?void 0:R.starters)||[]},type:"secondary half",previous:!0,players_projections:E,players_points:null===R||void 0===R?void 0:R.players_points,total_points:"Lineup"===Y?null===R||void 0===R?void 0:R.points:L})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"secondary nav",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"Lineup"===K&&1!==j.settings.best_ball?"active click":"click",onClick:()=>D(s({secondaryContent1:"Lineup"})),disabled:1===j.settings.best_ball,children:"Lineup"}),(0,r.jsx)("span",{children:(0,r.jsx)("p",{className:"username",children:X})}),(0,r.jsx)("button",{className:"Optimal"===K||1===j.settings.best_ball?"active click":"click",onClick:()=>D(s({secondaryContent1:"Optimal"})),children:"Optimal"})]}),(0,r.jsx)("button",{className:"sync ".concat(Z?"rotate":"click"),onClick:Z?null:()=>le(j.league_id),children:(0,r.jsx)("i",{className:"fa-solid fa-arrows-rotate ".concat(Z?"rotate":"")})}),(0,r.jsx)("div",{children:V?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"click",onClick:()=>D(s({itemActive2:""})),children:"Opp"}),(0,r.jsx)("button",{className:"active click",onClick:()=>D(s({itemActive2:""})),children:"Options"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"Lineup"===Y&&1!==j.settings.best_ball?"active click":"click",onClick:()=>D(s({secondaryContent2:"Lineup"})),disabled:1===j.settings.best_ball,children:"Lineup"}),(0,r.jsx)("span",{children:(0,r.jsx)("p",{className:"username",children:B})}),(0,r.jsx)("button",{className:"Optimal"===Y||1===j.settings.best_ball?"active click":"click",onClick:()=>D(s({secondaryContent2:"Optimal"})),children:"Optimal"})]})})]}),(null===ne||void 0===ne?void 0:ne.length)>=0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.Z,{type:"secondary half",headers:te,body:ne,itemActive:V,setItemActive:e=>D(s({itemActive2:e}))}),(0,r.jsx)(t.Z,{type:"secondary half",headers:ae,body:de})]}):(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"No Matchups"})})]})},O=e=>{let{start:l,bench:i,start_opp:o,bench_opp:a,page2_start:u,page2_bench:c,page2_start_opp:v,page2_bench_opp:p,secondaryTable:_}=e;const m=(0,n.I0)(),{state:h}=(0,n.v9)((e=>e.common)),{includeTaxi:g,week:x,lineupChecks:y,secondaryContent3:f,itemActive3:j}=(0,n.v9)((e=>e.lineups)),k="".concat(g,"-",!0),S=e=>[[{text:"League",colSpan:3},{text:"PF",colSpan:1},{text:(0,r.jsxs)(r.Fragment,{children:["PA ",(0,r.jsx)("em",{children:"Median"})]}),colSpan:2}]],b=e=>e.map((e=>{var l,i,t,n,o,s,a;let u,c,v,p,m,g,f,j,S,b,N,w,F,R;var O,C,E,T,A,I,L,B,P,D,W,U,Q,M,H,Z,X,G,J,K,Y,V,q,z,$,ee,le,ie,te,ne,oe,se,ae,de,re,ue,ce,ve,pe,_e,me,he,ge,xe,ye,fe,je,ke,Se,be,Ne,we,Fe,Re,Oe,Ce,Ee,Te,Ae,Ie,Le,Be,Pe,De,We,Ue,Qe,Me,He,Ze,Xe,Ge,Je,Ke,Ye,Ve;x>=h.week?(u=1===e.settings.best_ball?null===(O=y[x])||void 0===O||null===(C=O[k])||void 0===C||null===(E=C[e.league_id])||void 0===E||null===(T=E.lc_user)||void 0===T?void 0:T.proj_score_optimal:null===(A=y[x])||void 0===A||null===(I=A[k])||void 0===I||null===(L=I[e.league_id])||void 0===L||null===(B=L.lc_user)||void 0===B?void 0:B.proj_score_actual,c=1===e.settings.best_ball?null===(P=y[x])||void 0===P||null===(D=P[k])||void 0===D||null===(W=D[e.league_id])||void 0===W||null===(U=W.lc_opp)||void 0===U?void 0:U.proj_score_optimal:null===(Q=y[x])||void 0===Q||null===(M=Q[k])||void 0===M||null===(H=M[e.league_id])||void 0===H||null===(Z=H.lc_opp)||void 0===Z?void 0:Z.proj_score_actual,v=null===(X=y[x])||void 0===X||null===(G=X[k])||void 0===G||null===(J=G[e.league_id])||void 0===J||null===(K=J.lc_user)||void 0===K?void 0:K.matchup,p=null===(Y=y[x])||void 0===Y||null===(V=Y[k])||void 0===V||null===(q=V[e.league_id])||void 0===q||null===(z=q.lc_opp)||void 0===z?void 0:z.matchup,m=null===($=y[x])||void 0===$||null===(ee=$[k])||void 0===ee||null===(le=ee[e.league_id])||void 0===le||null===(ie=le.lc_user)||void 0===ie?void 0:ie.lineup_check,g=null===(te=y[x])||void 0===te||null===(ne=te[k])||void 0===ne||null===(oe=ne[e.league_id])||void 0===oe||null===(se=oe.lc_opp)||void 0===se?void 0:se.lineup_check,f=null===(ae=y[x])||void 0===ae||null===(de=ae[k])||void 0===de||null===(re=de[e.league_id])||void 0===re||null===(ue=re.lc_user)||void 0===ue?void 0:ue.optimal_lineup,j=null===(ce=y[x])||void 0===ce||null===(ve=ce[k])||void 0===ve||null===(pe=ve[e.league_id])||void 0===pe||null===(_e=pe.lc_opp)||void 0===_e?void 0:_e.optimal_lineup,S={...null===(me=y[x])||void 0===me||null===(he=me[k])||void 0===he||null===(ge=he[e.league_id])||void 0===ge||null===(xe=ge.lc_user)||void 0===xe?void 0:xe.players_projections,...null===(ye=y[x])||void 0===ye||null===(fe=ye[k])||void 0===fe||null===(je=fe[e.league_id])||void 0===je||null===(ke=je.lc_opp)||void 0===ke?void 0:ke.players_projections},N=null===(Se=y[x])||void 0===Se||null===(be=Se[k])||void 0===be||null===(Ne=be[e.league_id])||void 0===Ne||null===(we=Ne.lc_user)||void 0===we?void 0:we.proj_score_optimal,b=null===(Fe=y[x])||void 0===Fe||null===(Re=Fe[k])||void 0===Re||null===(Oe=Re[e.league_id])||void 0===Oe||null===(Ce=Oe.lc_user)||void 0===Ce?void 0:Ce.proj_score_actual,F=null===(Ee=y[x])||void 0===Ee||null===(Te=Ee[k])||void 0===Te||null===(Ae=Te[e.league_id])||void 0===Ae||null===(Ie=Ae.lc_opp)||void 0===Ie?void 0:Ie.proj_score_optimal,w=null===(Le=y[x])||void 0===Le||null===(Be=Le[k])||void 0===Be||null===(Pe=Be[e.league_id])||void 0===Pe||null===(De=Pe.lc_opp)||void 0===De?void 0:De.proj_score_actual,R=e.rosters.find((e=>{var l;return e.roster_id===(null===(l=p)||void 0===l?void 0:l.roster_id)}))):(u=1===e.settings.best_ball?null===(We=y[x])||void 0===We||null===(Ue=We[e.league_id])||void 0===Ue||null===(Qe=Ue.lc_user)||void 0===Qe?void 0:Qe.proj_score_optimal:null===(Me=y[x])||void 0===Me||null===(He=Me[e.league_id])||void 0===He||null===(Ze=He.lc_user)||void 0===Ze?void 0:Ze.proj_score_actual,c=1===e.settings.best_ball?null===(Xe=y[x])||void 0===Xe||null===(Ge=Xe[e.league_id])||void 0===Ge||null===(Je=Ge.lc_opp)||void 0===Je?void 0:Je.proj_score_optimal:null===(Ke=y[x])||void 0===Ke||null===(Ye=Ke[e.league_id])||void 0===Ye||null===(Ve=Ye.lc_opp)||void 0===Ve?void 0:Ve.proj_score_actual);const qe=null===(l=y[x])||void 0===l||null===(i=l[k])||void 0===i||null===(t=i[e.league_id])||void 0===t?void 0:t.proj_median;return{id:e.league_id,list:[{text:e.name,colSpan:3,className:"left",image:{src:e.avatar,alt:"league avatar",type:"league"}},{text:(0,r.jsx)("p",{className:"stat check",style:(0,d.y)((u-c)/Math.max(u,c),.001),children:null===(n=u)||void 0===n?void 0:n.toFixed(1)}),colSpan:1},{text:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{className:"stat check",style:(0,d.y)((u-c)/Math.max(u,c),.001),children:null===(o=c)||void 0===o?void 0:o.toFixed(1)}),parseFloat(qe)?(0,r.jsx)("em",{children:(0,r.jsx)("p",{className:"stat check",style:(0,d.y)((u-qe)/Math.max(u,qe),.001),children:null===qe||void 0===qe?void 0:qe.toFixed(1)})}):null]}),colSpan:2}],secondary_table:_({league:e,matchup_user:v,matchup_opp:p,lineup_check:m,lineup_check_opp:g,optimal_lineup:f,optimal_lineup_opp:j,players_projections:S,proj_score_user_actual:b,proj_score_user_optimal:N,proj_score_opp_actual:w,proj_score_opp_optimal:F,opp_username:(null===(s=R)||void 0===s?void 0:s.username)||"Orphan",opp_avatar:null===(a=R)||void 0===a?void 0:a.avatar,proj_median:qe})}}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"secondary nav",children:[(0,r.jsx)("button",{className:"Starters"===f?"active click":"click",onClick:()=>m(s({secondaryContent3:"Starters"})),children:"Starters"}),(0,r.jsx)("button",{className:"Bench"===f?"active click":"click",onClick:()=>m(s({secondaryContent3:"Bench"})),children:"Bench"}),(0,r.jsx)("button",{className:"Opp Starters"===f?"active click":"click",onClick:()=>m(s({secondaryContent3:"Opp Starters"})),children:"Opp Starters"}),(0,r.jsx)("button",{className:"Opp Bench"===f?"active click":"click",onClick:()=>m(s({secondaryContent3:"Opp Bench"})),children:"Opp Bench"})]}),"Starters"===f?(0,r.jsx)(t.Z,{type:"secondary lineup",headers:S(),body:b(l),page:u,setPage:e=>m(s({page2_start:e})),itemActive:j,setItemActive:e=>m(s({itemActive3:e}))}):"Bench"===f?(0,r.jsx)(t.Z,{type:"secondary lineup",headers:S(),body:b(i),page:c,setPage:e=>m(s({page2_bench:e})),itemActive:j,setItemActive:e=>m(s({itemActive3:e}))}):"Opp Starters"===f?(0,r.jsx)(t.Z,{type:"secondary subs",headers:S(),body:b(o),page:v,setPage:e=>m(s({page2_start_opp:e})),itemActive:j,setItemActive:e=>m(s({itemActive3:e}))}):"Opp Bench"===f?(0,r.jsx)(t.Z,{type:"secondary subs",headers:S(),body:b(a),page:p,setPage:e=>m(s({page2_bench_opp:e})),itemActive:j,setItemActive:e=>m(s({itemActive3:e}))}):null]})},C=e=>{let{secondaryTable:l,...i}=e;const{primaryContent:t}=(0,n.v9)((e=>e.lineups));return"Lineup Check"===t?(0,r.jsx)(R,{...i}):(0,r.jsx)(O,{...i,secondaryTable:l})},E=e=>{let{...l}=e;return(0,r.jsx)(R,{...l})},T=()=>{var e,l;const i=(0,n.I0)(),{state:t}=(0,n.v9)((e=>e.common)),{leagues:o,type1:a,type2:d}=(0,n.v9)((e=>e.user)),{includeTaxi:u,lineupChecks:c,week:p,primaryContent:_}=(0,n.v9)((e=>e.lineups)),m="".concat(u,"-",!0),h=p>=t.week?(0,v.y)(o||[],a,d).reduce(((e,l)=>{var i,t;const n=null===(i=c[p])||void 0===i||null===(t=i[m])||void 0===t?void 0:t[l.league_id];let o,s;var a,d,r,u;1===l.settings.best_ball?(o=parseFloat(null===n||void 0===n||null===(a=n.lc_user)||void 0===a?void 0:a.proj_score_optimal),s=parseFloat(null===n||void 0===n||null===(d=n.lc_opp)||void 0===d?void 0:d.proj_score_optimal)):(o=parseFloat(null===n||void 0===n||null===(r=n.lc_user)||void 0===r?void 0:r.proj_score_actual),s=parseFloat(null===n||void 0===n||null===(u=n.lc_opp)||void 0===u?void 0:u.proj_score_actual));let v=((null===n||void 0===n?void 0:n.win)||0)+((null===n||void 0===n?void 0:n.median_win)||0),_=((null===n||void 0===n?void 0:n.loss)||0)+((null===n||void 0===n?void 0:n.median_loss)||0),h=(null===n||void 0===n?void 0:n.tie)||0;return{wins:e.wins+v,losses:e.losses+_,ties:e.ties+h,fpts:e.fpts+(o||0),fpts_against:e.fpts_against+(s||0)}}),{wins:0,losses:0,ties:0,fpts:0,fpts_against:0}):(0,v.y)(o||[],a,d).reduce(((e,l)=>{var i,t,n,o,s,a,d,r,u,v,_,m,h,g,x,y,f,j;const k=(null===(i=c[p])||void 0===i||null===(t=i[l.league_id])||void 0===t||null===(n=t.lc_user)||void 0===n||null===(o=n.matchup)||void 0===o?void 0:o.points)||0,S=(null===(s=c[p])||void 0===s||null===(a=s[l.league_id])||void 0===a||null===(d=a.lc_opp)||void 0===d||null===(r=d.matchup)||void 0===r?void 0:r.points)||0;let b=((null===(u=c[p])||void 0===u||null===(v=u[l.league_id])||void 0===v?void 0:v.win)||0)+((null===(_=c[p])||void 0===_||null===(m=_[l.league_id])||void 0===m?void 0:m.median_win)||0),N=((null===(h=c[p])||void 0===h||null===(g=h[l.league_id])||void 0===g?void 0:g.loss)||0)+((null===(x=c[p])||void 0===x||null===(y=x[l.league_id])||void 0===y?void 0:y.median_loss)||0),w=(null===(f=c[p])||void 0===f||null===(j=f[l.league_id])||void 0===j?void 0:j.tie)||0;return{wins:e.wins+b,losses:e.losses+N,ties:e.ties+w,fpts:e.fpts+k,fpts_against:e.fpts_against+S}}),{wins:0,losses:0,ties:0,fpts:0,fpts_against:0});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h1",{children:["Week ",(0,r.jsx)("select",{value:p,onChange:e=>i(s({week:e.target.value})),className:"active click",children:Array.from(Array(18).keys()).map((e=>(0,r.jsx)("option",{children:e+1},e+1)))})]}),(0,r.jsx)("h2",{children:(0,r.jsxs)("select",{value:_,onChange:e=>i(s({primaryContent:e.target.value})),className:"active click",children:[(0,r.jsx)("option",{children:"Lineup Check"}),(0,r.jsx)("option",{children:"Starters/Bench"})]})}),(0,r.jsx)("h2",{children:(0,r.jsx)("table",{className:"summary",children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,r.jsx)("span",{className:"font2 wr",children:p<t.week?"RESULT":"PROJECTION"})})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Record"}),(0,r.jsxs)("td",{children:[null===h||void 0===h?void 0:h.wins,"-",null===h||void 0===h?void 0:h.losses,(null===h||void 0===h?void 0:h.ties)>0&&"-".concat(h.ties)]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Points For"}),(0,r.jsx)("td",{children:null===h||void 0===h||null===(e=h.fpts)||void 0===e?void 0:e.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Points Against"}),(0,r.jsx)("td",{children:null===h||void 0===h||null===(l=h.fpts_against)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]})]})})})]})},A=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{}),(0,r.jsx)(b,{secondaryTable:e=>(0,r.jsx)(C,{...e,secondaryTable:e=>(0,r.jsx)(E,{...e})})})]})},758:(e,l,i)=>{i.d(l,{P_:()=>n,_Y:()=>s,fL:()=>o});var t=i(7805);const n=(e,l)=>({type:"SET_STATE_PLAYERS",payload:e}),o=(e,l)=>({type:"SET_STATE_USER",payload:e}),s=(e,l)=>async i=>{const n={};e.forEach((e=>{var i;const o=(0,t.K)(e.rosters,l),s=e.season;null===(i=e.rosters)||void 0===i||i.forEach((l=>{var i,t;null===(i=l.players)||void 0===i||i.forEach((i=>{let t=n[i]||{id:i,leagues_owned:[],leagues_taken:[]};l.user_id===(null===o||void 0===o?void 0:o.user_id)?t.leagues_owned.push(e):t.leagues_taken.push({...e,lmRoster:l}),n[i]=t})),null===(t=l.draft_picks)||void 0===t||t.forEach((i=>{var t;const a="".concat(i.season,"_").concat(i.round,"_").concat(null===(t=i.order)||void 0===t?void 0:t.toLocaleString("en-US",{minimumIntegerDigits:2}));let d=n[a]||{id:a,leagues_owned:[],leagues_taken:[]};i.season===parseInt(s)&&parseInt(i.order)&&(l.user_id===(null===o||void 0===o?void 0:o.user_id)?d.leagues_owned.push({...e}):d.leagues_taken.push({...e,lmRoster:l}),n[a]=d)}))}))}));const s=Object.values(n).map((l=>({...l,leagues_available:l.id.includes("_")?[]:e.filter((e=>{var i;return!(null!==(i=e.rosters)&&void 0!==i&&i.find((e=>{var i;return null===(i=e.players)||void 0===i?void 0:i.includes(l.id)})))}))})));console.log({playerShares:s}),i(o({userPlayerShares:s}))}}}]);
//# sourceMappingURL=938.39ad8a2b.chunk.js.map