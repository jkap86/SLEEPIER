"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[78],{863:(e,l,t)=>{t.d(l,{Z:()=>a});const a=t(2791).lazy((()=>t.e(176).then(t.bind(t,6051))))},78:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(7716),s=t(2791),n=t(9434),o=t(8320),i=t(6549),r=t(184);const d=e=>{let{roster:l,league:t,trade_value_date:d,current_value_date:c,type:u,previous:p,players_points:v,players_projections:h,total_points:m}=e;const[_,x]=(0,s.useState)("All"),[y,g]=(0,s.useState)("Total"),{state:S,allplayers:j,values:E,projections:f}=(0,n.v9)((e=>e.common)),{week:T}=(0,n.v9)((e=>e.lineups)),C=function(e,l){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={};return null===e||void 0===e||e.map((e=>{Object.keys((null===e||void 0===e?void 0:e.stats)||{}).filter((e=>Object.keys(l).includes(e))).map((t=>{a[t]||(a[t]={stats:0,points:0}),a[t]={stats:a[t].stats+e.stats[t],points:a[t].points+e.stats[t]*l[t]}}))})),t?Object.keys(a).reduce(((e,l)=>e+a[l].points),0):a},N=Object.keys(t).filter((e=>e.startsWith("matchups_"))).length>0,b=N?[]:(null===l||void 0===l?void 0:l.players)||[];(0,o.Z)({player_ids:b});const R=[[{text:(0,r.jsxs)("select",{onChange:e=>x(e.target.value),children:[(0,r.jsx)("option",{children:"All"}),(0,r.jsx)("option",{children:"QB"}),(0,r.jsx)("option",{children:"RB"}),(0,r.jsx)("option",{children:"WR"}),(0,r.jsx)("option",{children:"TE"}),(0,r.jsx)("option",{children:"Picks"})]}),colSpan:4,className:"half"},{text:p?m:(0,r.jsx)("p",{className:"username",children:l.username}),colSpan:15,className:"half"},{text:p?null:N?(0,r.jsxs)("select",{onChange:e=>g(e.target.value),children:[(0,r.jsx)("option",{children:"Total"}),(0,r.jsx)("option",{children:"In Lineup"}),(0,r.jsx)("option",{children:"On Bench"})]}):"KTC",colSpan:8,className:"half"}],[{text:"Slot",colSpan:4,className:"half"},{text:"Player",colSpan:15,className:"half"},{text:(0,r.jsxs)("div",{className:"flex",children:[p?(0,r.jsx)("p",{children:"Actual"}):N?(0,r.jsx)("p",{children:"PPG"}):(0,r.jsx)("p",{children:new Date(d).getMonth()+1+"/"+new Date(d).getDate()}),p?(0,r.jsx)("em",{children:"Proj"}):N?(0,r.jsx)("em",{children:"#"}):(0,r.jsx)("em",{children:"Trend"})]}),colSpan:8,className:"half left end"}]],k={QB:"QB",RB:"RB",WR:"WR",TE:"TE",SUPER_FLEX:"SF",FLEX:"WRT",WRRB_FLEX:"W R",WRRB_WRT:"W R",REC_FLEX:"W T"},A=(0,s.useMemo)((()=>{var e;const a={};return null===(e=l.players)||void 0===e||e.forEach((e=>{if(N){const s=Object.keys(t).filter((e=>e.startsWith("matchups_")&&parseInt(e.split("_")[1])<S.week)).reduce(((a,s)=>{var n,o,i,r,d,c,u,p,v,h,m;const _=null===(n=t[s])||void 0===n?void 0:n.find((e=>e.roster_id===l.roster_id));return{games_total:a.games_total+(null!==_&&void 0!==_&&null!==(o=_.players)&&void 0!==o&&o.includes(e)?1:0),points_total:a.points_total+((null===_||void 0===_||null===(i=_.players_points)||void 0===i?void 0:i[e])||0),games_starter:a.games_starter+(null!==_&&void 0!==_&&null!==(r=_.starters)&&void 0!==r&&r.includes(e)?1:0),points_starter:a.points_starter+((null===_||void 0===_||null===(d=_.starters)||void 0===d?void 0:d.includes(e))&&(null===_||void 0===_||null===(c=_.players_points)||void 0===c?void 0:c[e])||0),games_bench:a.games_bench+(null===_||void 0===_||null===(u=_.players)||void 0===u||!u.includes(e)||null!==_&&void 0!==_&&null!==(p=_.starters)&&void 0!==p&&p.includes(e)?0:1),points_bench:a.points_bench+((null===_||void 0===_||null===(v=_.players)||void 0===v?void 0:v.includes(e))&&!(null!==_&&void 0!==_&&null!==(h=_.starters)&&void 0!==h&&h.includes(e))&&(null===_||void 0===_||null===(m=_.players_points)||void 0===m?void 0:m[e])||0)}}),{games_total:0,points_total:0,games_starter:0,points_starter:0,games_bench:0,points_bench:0});a[e]=s}else{var s,n,o,i;const l=1===(null===(s=t.roster_positions)||void 0===s||null===(n=s.filter((e=>"QB"===e||"SUPER_FLEX"===e)))||void 0===n?void 0:n.length)?"oneqb":"sf";a[e]={trade:null===(o=E[d][e])||void 0===o?void 0:o[l],current:null===(i=E[c][e])||void 0===i?void 0:i[l]}}})),a}),[l,t,S.week]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{type:u||"secondary half",headers:R,body:(()=>{var e,a,s;return"Picks"===_?null===(e=l.draft_picks)||void 0===e||null===(a=e.sort(((e,l)=>e.season-l.season||e.round-l.round||e.order-l.order)))||void 0===a?void 0:a.map((e=>{var t;return{id:"".concat(e.season,"_").concat(e.round,"_").concat(e.original_user.user_id),list:[{text:(0,r.jsxs)("span",{children:["\xa0\xa0","".concat(e.season," Round ").concat(e.round).concat(e.order&&e.season===parseInt(S.league_season)?".".concat(e.order.toLocaleString("en-US",{minimumIntegerDigits:2})):e.original_user.user_id===(null===l||void 0===l?void 0:l.user_id)?"":"(".concat((null===(t=e.original_user)||void 0===t?void 0:t.username)||"Orphan",")")).toString()]}),colSpan:27,className:"left"}]}})):null===(s="All"===_?[...l.starters,...l.players.filter((e=>!l.starters.includes(e)))]:l.players)||void 0===s?void 0:s.map(((e,l)=>{var a;if("All"===_||(null===(a=j[e])||void 0===a?void 0:a.position)===_){var s,n,o,d,c,u,h;let a,R;var m,x;if("On Bench"===y)a=null===(m=A[e])||void 0===m?void 0:m.games_bench,R=null===(x=A[e])||void 0===x?void 0:x.points_bench;else if("In Lineup"===y){var g,S;a=null===(g=A[e])||void 0===g?void 0:g.games_starter,R=null===(S=A[e])||void 0===S?void 0:S.points_starter}else{var E,b;a=null===(E=A[e])||void 0===E?void 0:E.games_total,R=null===(b=A[e])||void 0===b?void 0:b.points_total}const w=((null===(s=A[e])||void 0===s?void 0:s.current)||0)-((null===(n=A[e])||void 0===n?void 0:n.trade)||0);return{id:e,list:[{text:"All"===_?t.roster_positions&&k[t.roster_positions[l]]||t.roster_positions&&t.roster_positions[l]||"BN":null===(o=j[e])||void 0===o?void 0:o.position,colSpan:4},{text:null===(d=j[e])||void 0===d?void 0:d.full_name,colSpan:15,className:"left",image:{src:e,alt:"player headshot",type:"player"}},{text:p?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{children:(null===(c=v[e])||void 0===c?void 0:c.toFixed(1))||"-"}),(0,r.jsx)("em",{children:(null===(u=C([f[T][e]],t.scoring_settings,!0))||void 0===u?void 0:u.toFixed(1))||"-"})]}):N?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{children:a>0&&(R/a).toFixed(1)||"-"}),(0,r.jsx)("em",{children:null===(h=a)||void 0===h?void 0:h.toString()})]}):(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{children:A[e].trade||"0"}),(0,r.jsx)("em",{children:(0,r.jsx)("p",{className:"stat",style:(0,i.y)(w,1.5),children:w.toString()})})]}),colSpan:8}]}}}))})()})})}},4813:(e,l,t)=>{t.d(l,{Z:()=>o});var a=t(2791),s=t(863),n=t(184);const o=e=>{let{id:l,placeholder:t,list:o,isLoading:i,searched:r,setSearched:d}=e;const[c,u]=(0,a.useState)(!1),[p,v]=(0,a.useState)([]),[h,m]=(0,a.useState)(!1),_=(0,a.useCallback)((e=>o.filter((l=>{var t;return null===(t=l.text)||void 0===t?void 0:t.trim().toLowerCase().replace(/[^a-z0-9]/g,"").includes(e.replace(/[^a-z0-9]/g,"").trim().toLowerCase())})).sort(((l,t)=>{var a;return null!==(a=t.text)&&void 0!==a&&a.trim().toLowerCase().replace(/[^a-z0-9]/g,"").startsWith(e.replace(/[^a-z0-9]/g,"").trim().toLowerCase())?1:-1}))),[o]),x=e=>{let l,t,a=e;if(""===a)l=[],t=!1,d(a);else if(o.map((e=>{var l;return null===(l=e.text)||void 0===l?void 0:l.trim().toLowerCase()})).includes(a.trim().toLowerCase())){const e=o.find((e=>{var l;return(null===(l=e.text)||void 0===l?void 0:l.trim().toLowerCase())===a.trim().toLowerCase()}));l=[],t=!1,d(e)}else l=_(a),t=!0,d(a);u(t),v(l)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{onBlur:()=>u(!1),className:"search_wrapper",children:[null!==r&&void 0!==r&&r.image?(0,n.jsx)(s.Z,{avatar_id:r.image.src,alt:r.image.alt,type:r.image.type}):null,(0,n.jsx)("input",{className:"search",onChange:e=>x(e.target.value),onFocus:()=>u(!0),id:void 0===l?null:l,placeholder:"Search...",type:"text",value:(null===r||void 0===r?void 0:r.text)||r,autoComplete:"off",disabled:i}),""===r||!c&&""!==r&&c?(0,n.jsx)("button",{onClick:()=>x(" "),className:"input click",children:"\u25bc"}):(0,n.jsx)("button",{type:"reset",onClick:()=>x(""),className:"input click",children:"X"}),c&&p.length>0&&!i?(0,n.jsx)("ol",{onBlur:()=>u(!1),className:"dropdown",children:p.map(((e,l)=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{className:"click "+("".concat(e.text,"_").concat(l)===h?"reverse":""),onMouseEnter:()=>{return t="".concat(e.text,"_").concat(l),void setTimeout((()=>{m(t)}),2e3);var t},onMouseLeave:()=>m(!1),onMouseDown:()=>d(e),children:e.image?(0,n.jsxs)("p",{children:[(0,n.jsx)(s.Z,{avatar_id:e.image.src,alt:e.image.alt,type:e.image.type}),(0,n.jsx)("span",{children:e.text})]}):e.text})},"".concat(e.text,"_").concat(l))))}):null]})})}},7716:(e,l,t)=>{t.d(l,{Z:()=>i});var a=t(863),s=t(2791),n=t(4813),o=t(184);const i=e=>{var l,t,i,r,d,c;let{id:u,type:p,headers:v,body:h,page:m,setPage:_,itemActive:x,setItemActive:y,caption:g,searched:S,setSearched:j,options1:E,options2:f,partial:T,loadMore:C}=e;const N=(0,s.useRef)(null),b=(0,s.useRef)(null);return(0,s.useEffect)((()=>{null!==N.current&&(N.current.focus(),N.current.scrollIntoView({behavior:"smooth",inline:"center"}))}),[N,m]),(0,s.useEffect)((()=>{null===b.current||p.includes("half")||(b.current.focus(),b.current.scrollIntoView({behavior:"smooth",block:"start"}))}),[b,x]),(0,s.useEffect)((()=>{var e,l;m&&1!==m&&h&&!(null!==h&&void 0!==h&&null!==(e=h.filter((e=>e)))&&void 0!==e&&null!==(l=e.slice(Math.max(25*((m||1)-1),0),25*((m||1)-1)+25))&&void 0!==l&&l.length)>0&&_(1)}),[h,m]),(0,o.jsxs)(o.Fragment,{children:[j?(0,o.jsxs)("div",{className:"search_filter_wrapper",children:[(0,o.jsx)("div",{children:null===E||void 0===E?void 0:E.map((e=>e))}),(0,o.jsx)(n.Z,{id:u,placeholder:"Search ".concat(u),list:null===h||void 0===h||null===(l=h.filter(((e,l)=>{var t;return"orphan"!==(null===(t=e.search)||void 0===t?void 0:t.text)||!h.slice(0,l).find((e=>{var l;return"orphan"===(null===(l=e.search)||void 0===l?void 0:l.text)}))})))||void 0===l?void 0:l.map((e=>({...e.search,id:e.id}))),searched:S,setSearched:j}),(0,o.jsx)("div",{children:null===f||void 0===f?void 0:f.map((e=>e))})]}):null,m?(0,o.jsx)("div",{className:"page_numbers_wrapper",children:(0,o.jsx)(o.Fragment,{children:Math.ceil((null===h||void 0===h?void 0:h.length)/25)<=1?null:(0,o.jsxs)("ol",{className:"page_numbers",children:[Array.from(Array(Math.ceil((null===h||void 0===h?void 0:h.length)/25||0)).keys()).map((e=>(0,o.jsx)("li",{className:m===e+1?"active click":"click",onClick:()=>_(e+1),ref:m===e+1?N:null,children:e+1},e+1))),T?(0,o.jsx)("li",{className:"click",onClick:C,children:"..."}):null]})})}):null,(0,o.jsxs)("table",{className:p,id:u,children:[g?(0,o.jsx)("caption",{children:g}):null,(0,o.jsx)("thead",{children:null===v||void 0===v?void 0:v.map(((e,l)=>(0,o.jsx)("tr",{children:e.filter((e=>e)).map(((e,l)=>(0,o.jsx)("th",{colSpan:null===e||void 0===e?void 0:e.colSpan,rowSpan:null===e||void 0===e?void 0:e.rowSpan,className:null===e||void 0===e?void 0:e.className,onClick:null===e||void 0===e?void 0:e.onClick,children:null===e||void 0===e?void 0:e.text},l)))},l)))}),(null===h||void 0===h?void 0:h.length)>0&&m>1?(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{className:"click",onClick:()=>_(m-1),children:(0,o.jsx)("td",{colSpan:v[0].reduce(((e,l)=>e+(l.colSpan||0)),0),children:"PREV PAGE"})})}):null,(null===h||void 0===h?void 0:h.length)>0?(0,o.jsx)("tbody",{children:null===h||void 0===h||null===(t=h.filter((e=>e)))||void 0===t||null===(i=t.slice(Math.max(25*((m||1)-1),0),25*((m||1)-1)+25))||void 0===i?void 0:i.map(((e,l)=>{var t,s,n,i;return(0,o.jsx)("tr",{className:x===e.id?"active_wrapper":"",children:(0,o.jsx)("td",{colSpan:null===(t=e.list)||void 0===t?void 0:t.reduce(((e,l)=>e+(l.colSpan||0)),0),children:(0,o.jsxs)("table",{className:"body ".concat(x===e.id?"active":""),children:[(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{className:"click ".concat(x===e.id?"active":""),ref:x!==e.id||null!==p&&void 0!==p&&null!==(s=p.split(" "))&&void 0!==s&&s.includes("lineup")?null:b,onClick:y?()=>x===e.id?y(""):y(e.id):null,children:null===(n=e.list)||void 0===n||null===(i=n.filter((e=>e.text)))||void 0===i?void 0:i.map(((e,l)=>(0,o.jsx)("td",{colSpan:e.colSpan,className:e.className,children:e.image?(0,o.jsxs)("p",{children:[(0,o.jsx)(a.Z,{avatar_id:e.image.src,alt:e.image.alt,type:e.image.type}),(0,o.jsx)("span",{children:e.text})]}):e.text},l)))})}),(0,o.jsx)("tbody",{children:x===e.id&&e.secondary_table?(0,o.jsx)("tr",{className:"".concat(p," click ").concat(x===e.id?"active2":""),children:(0,o.jsx)("td",{colSpan:e.list.reduce(((e,l)=>e+(l.colSpan||0)),0),children:e.secondary_table})}):null})]})})},l)}))}):(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:null===(r=v[0])||void 0===r?void 0:r.reduce(((e,l)=>e+((null===l||void 0===l?void 0:l.colSpan)||0)),0),children:"NO DATA"})})}),(null===h||void 0===h||null===(d=h.filter((e=>e)))||void 0===d||null===(c=d.slice(Math.max(25*((m||1)-1),0),25*((m||1)-1)+25))||void 0===c?void 0:c.length)>0&&(25*(m-1)+25<(null===h||void 0===h?void 0:h.length)||T)?(0,o.jsx)("tbody",{children:(0,o.jsx)("tr",{className:"click",onClick:25*(m-1)+25<(null===h||void 0===h?void 0:h.length)?()=>_(m+1):C,children:(0,o.jsx)("td",{colSpan:v[0].reduce(((e,l)=>e+(l.colSpan||0)),0),children:"NEXT PAGE"})})}):null]})]})}},8852:(e,l,t)=>{t.d(l,{BT:()=>i,MG:()=>c,SD:()=>d,fL:()=>s,oA:()=>n,um:()=>r,wR:()=>o});var a=t(1243);const s=e=>({type:"SET_STATE_USER",payload:e}),n=()=>({type:"RESET_STATE"}),o=e=>async l=>{l({type:"FETCH_COMMON_START",payload:{item:e}});try{const t=await a.Z.get("/main/".concat(e));"projections"===e&&console.log(t.data[0].filter((e=>4===e.week&&"8135"===e.player_id)));const s="projections"!==e?t.data[0]:t.data[0].reduce(((e,l)=>{const{week:t,player_id:a,injury_status:s,...n}=l;return e[t]||(e[t]={}),e[t][a]={...n,injury_status:s},e}),{});l({type:"FETCH_COMMON_SUCCESS",payload:{item:e,data:s}})}catch(t){l({type:"FETCH_COMMON_FAILURE",payload:t.message}),console.error(t.message)}},i=e=>async l=>{l({type:"FETCH_USER_START"});try{var t;const s=await a.Z.get("/user/create",{params:{username:e}});if(console.log(s.data),null!==(t=s.data)&&void 0!==t&&t.error)l({type:"FETCH_USER_FAILURE",payload:s.data});else{l({type:"FETCH_USER_SUCCESS",payload:s.data.user}),l({type:"SET_STATE_COMMON",payload:{state:s.data.state}});l({type:"SET_STATE_LINEUPS",payload:{week:"regular"===s.data.state.season_type?s.data.state.leg:s.data.state.season_type.includes("post")?19:1}})}}catch(s){l({type:"FETCH_USER_FAILURE",payload:s.message})}},r=e=>async l=>{l({type:"FETCH_LEAGUES_START"});try{const a=await fetch("/league/find?user_id=".concat(encodeURIComponent(e)),{method:"GET",headers:{Accept:"application/json"}});if(a.ok){const e=a.body.getReader();let s,n="";for(;;){const{done:t,value:a}=await e.read();if(t)break;n+=(new TextDecoder).decode(a);const s=n.match(/"league_id":/g);let o=0;s&&s.length>0&&(o=s.length),l({type:"SET_STATE_PROGRESS",payload:{progress:o}})}try{s=JSON.parse(n)}catch(t){console.log(t)}console.log(s),l({type:"FETCH_LEAGUES_SUCCESS",payload:s.flat()})}else l({type:"FETCH_LEAGUES_FAILURE",payload:"Failed to fetch user leagues"})}catch(t){l({type:"FETCH_LEAGUES_FAILURE",payload:t.message})}},d=e=>async l=>{l({type:"SET_STATE_USER",payload:{isLoadingPS:!0}});try{const t=await a.Z.get("/user/lmplayershares",{params:{user_id:e}});console.log({lmplayershares:t.data.sort(((e,l)=>e.username>l.username?1:-1))}),l({type:"SET_STATE_USER",payload:{lmplayershares:t.data,isLoadingPS:!1}})}catch(t){l({type:"SET_STATE_USER",payload:{isLoadingPS:!1,errorPS:t.message}})}},c=e=>async l=>{try{const t=await a.Z.post("/main/playervalues",{player_ids:e}),s={};t.data.forEach((e=>{s[e.date]||(s[e.date]={}),s[e.date][e.player_id]||(s[e.date][e.player_id]={}),s[e.date][e.player_id][e.type]=e.value})),l({type:"SET_STATE_COMMON",payload:{values:s}})}catch(t){console.log(t)}}},6549:(e,l,t)=>{t.d(l,{y:()=>a});const a=(e,l)=>e>0?{color:"rgb(".concat(255-e/l,", 255, ").concat(255-e/l,")")}:e<0?{color:"rgb(255, ".concat(255+e/l,", ").concat(255+e/l,")")}:{}},8320:(e,l,t)=>{t.d(l,{Z:()=>o});var a=t(2791),s=t(9434),n=t(8852);const o=e=>{let{player_ids:l}=e;const t=(0,s.I0)();(0,a.useEffect)((()=>{l.length>0&&t((0,n.MG)(l))}),[l,t])}}}]);
//# sourceMappingURL=78.8fa8bb25.chunk.js.map