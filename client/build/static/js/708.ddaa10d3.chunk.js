"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[708],{6950:(e,a,t)=>{t.d(a,{Z:()=>d});var r=t(7716),s=t(9434),n=t(78),l=t(2791),i=t(184);const d=e=>{var a,t;let{league:d,trade_value_date:o,current_value_date:c}=e;(0,s.I0)();const[u,p]=(0,l.useState)(""),_=d.rosters.find((e=>e.roster_id===u)),v=null===(a=d.rosters)||void 0===a||null===(t=a.map((e=>({roster_id:e.roster_id,username:e.username,avatar:e.avatar,wins:e.settings.wins,losses:e.settings.losses,ties:e.settings.ties,fpts:parseFloat(e.settings.fpts+"."+e.settings.fpts_decimal),fpts_against:parseFloat(e.settings.fpts_against+"."+e.settings.fpts_against_decimal)}))))||void 0===t?void 0:t.sort(((e,a)=>a.wins-e.wins||a.fpts-e.fpts)),m=null===v||void 0===v?void 0:v.map(((e,a)=>{const t=v.find((a=>a.roster_id===e.roster_id));return{id:e.roster_id,list:[{text:e.username||"Orphan",colSpan:5,className:"left",image:{src:e.avatar,alt:"user avatar",type:"user"}},{text:"".concat(t.wins,"-").concat(t.losses).concat(t.ties>0?"-".concat(t.ties):""),colSpan:2},{text:t.fpts.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),colSpan:3}]}}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{type:"secondary half",headers:[[{text:"Manager",colSpan:5},{text:"Record",colSpan:2},{text:"FP",colSpan:3}]],body:m,itemActive:u,setItemActive:e=>p(e)}),_?(0,i.jsx)(n.Z,{type:"secondary half",league:d,roster:_,module:"Leagues",trade_value_date:o,current_value_date:c}):(0,i.jsx)(r.Z,{type:"secondary half",headers:[[]],body:[]})]})}},4816:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var r=t(9434),s=t(7716),n=t(1243);const l=(e,a,t,r)=>e.map((e=>{let t=[];Object.keys(e.adds||{}).map((r=>{const s=e.adds[r];if(s)return a.filter((a=>{var t;return a.rosters.find((e=>e.user_id===s))&&a.userRoster.user_id!==s&&(null===(t=a.userRoster.players)||void 0===t?void 0:t.includes(r))&&a.league_id!==e.leagueLeagueId})).map((e=>{const a=e.rosters.find((e=>e.user_id===s));return t.push({type:"player",player_id:r,manager:{user_id:s,username:(null===a||void 0===a?void 0:a.username)||"Orphan",avatar:null===a||void 0===a?void 0:a.avatar},league:{league_id:e.league_id,name:e.name,avatar:e.avatar,roster_positions:e.roster_positions},userRoster:e.userRoster,lmRoster:e.rosters.find((e=>e.user_id===s))})}))})),e.draft_picks.map((s=>{const n=s.new_user.user_id;if(n)return a.filter((a=>{var t,l;return a.rosters.find((e=>e.user_id===n))&&a.userRoster.user_id!==n&&(null===(t=a.userRoster)||void 0===t||null===(l=t.draft_picks)||void 0===l?void 0:l.find((e=>parseInt(s.season)===e.season&&s.round===e.round&&(parseInt(s.season)!==parseInt(r)||s.order===e.order))))&&a.league_id!==e.leagueLeagueId})).map((e=>{const a=e.rosters.find((e=>e.user_id===n));return t.push({type:"pick",player_id:s,manager:{user_id:n,username:(null===a||void 0===a?void 0:a.username)||"Orphan",avatar:null===a||void 0===a?void 0:a.avatar},league:{league_id:e.league_id,name:e.name,avatar:e.avatar,roster_positions:e.roster_positions},userRoster:e.userRoster,lmRoster:e.rosters.find((e=>e.user_id===n))})}))}));let s=[];return Object.keys(e.drops||{}).map((t=>{const r=e.drops[t];if(r)return a.filter((a=>{var s,n,l;return a.rosters.find((e=>e.user_id===r))&&a.userRoster.user_id!==r&&(null===(s=a.rosters)||void 0===s||null===(n=s.find((e=>{var t;return e.roster_id!==a.userRoster.roster_id&&(e.user_id===r||(null===(t=e.co_owners)||void 0===t?void 0:t.find((e=>e.user_id===r))))})))||void 0===n||null===(l=n.players)||void 0===l?void 0:l.includes(t))&&a.league_id!==e.leagueLeagueId})).map((e=>{const a=e.rosters.find((e=>e.user_id===r));return s.push({type:"player",player_id:t,manager:{user_id:r,username:(null===a||void 0===a?void 0:a.username)||"Orphan",avatar:null===a||void 0===a?void 0:a.avatar},league:{league_id:e.league_id,name:e.name,avatar:e.avatar,roster_positions:e.roster_positions},userRoster:e.userRoster,lmRoster:e.rosters.find((e=>e.user_id===r))})}))})),e.draft_picks.map((t=>{const n=t.old_user.user_id;if(n)return a.filter((a=>{var s,l,i;return a.rosters.find((e=>e.user_id===n))&&a.userRoster.user_id!==n&&(null===(s=a.rosters)||void 0===s||null===(l=s.find((e=>{var t;return e.roster_id!==a.userRoster.roster_id&&(e.user_id===n||(null===(t=e.co_owners)||void 0===t?void 0:t.find((e=>e.user_id===n))))})))||void 0===l||null===(i=l.draft_picks)||void 0===i?void 0:i.find((e=>parseInt(t.season)===e.season&&t.round===e.round&&(parseInt(t.season)!==parseInt(r)||t.order===e.order))))&&a.league_id!==e.leagueLeagueId})).map((e=>{const a=e.rosters.find((e=>e.user_id===n));return s.push({type:"pick",player_id:t,manager:{user_id:n,username:(null===a||void 0===a?void 0:a.username)||"Orphan",avatar:null===a||void 0===a?void 0:a.avatar},league:{league_id:e.league_id,name:e.name,avatar:e.avatar,roster_positions:e.roster_positions},userRoster:e.userRoster,lmRoster:e.rosters.find((e=>e.user_id===n))})}))})),{...e,tips:{acquire:s,trade_away:t}}})),i=(e,a)=>({type:"SET_STATE_TRADES",payload:e}),d=function(e,a,t,r,s,i,d){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return async t=>{t({type:"FETCH_TRADES_START"});try{const c=await n.Z.post("/trade/leaguemate",{user_id:e,offset:r,limit:s,type1:i.split("-")[0],type2:i.split("-")[1],trade_date:d}),u=l(c.data.rows,a);console.log({more:o}),t({type:"FETCH_LMTRADES_SUCCESS",payload:{count:c.data.count,trades:u,hash:i,more:o,trade_date:d}})}catch(c){t({type:"FETCH_TRADES_FAILURE",payload:c.message})}}},o=(e,a,t,r)=>async(s,i)=>{s({type:"FETCH_TRADES_START"});const d=i(),{user:o,common:c}=d;try{const i=await n.Z.post("/trade/pricecheck",{player:e,player2:a,offset:t,limit:r});console.log({player_trades:i});const d=l(i.data.rows,o.leagues,c.state.league_season);console.log({trades_tips:d}),s({type:"FETCH_PRICECHECKTRADES_SUCCESS",payload:{pricecheck_player:e,pricecheck_player2:a,trades:d,count:i.data.count}})}catch(u){s({type:"FETCH_TRADES_FAILURE",payload:u.message})}};var c=t(2791);const u=()=>{const e=(0,r.I0)(),{state:a}=(0,r.v9)((e=>e.common)),{user_id:t,leagues:s,type1:n,type2:l}=(0,r.v9)((e=>e.user)),{trade_date:i,lmTrades:o}=(0,r.v9)((e=>e.trades)),u="".concat(n,"-").concat(l);(0,c.useEffect)((()=>{var r;!s||o.searched_player.id||o.searched_manager.id||(null===(r=o.trades[u])||void 0===r?void 0:r.trade_date)===i||e(d(t,s,a.league_season,0,125,u,i))}),[t,s,a.league_season,u,i,o.searched_player.id,o.searched_manager.id,o.trades.trade_date,e])};var p=t(863),_=t(6549),v=t(184);const m=e=>{var a;let{trade:t,trade_value_date:n}=e;const{state:l,allplayers:i,values:d}=(0,r.v9)((e=>e.common)),o=(new Date).toISOString().split("T")[0],c=t["league.roster_positions"].filter((e=>"QB"===e||"SUPER_FLEX"===e)).length>1?"sf":"oneqb",u=t["league.roster_positions"].filter((e=>"QB"===e)).length,m=t["league.roster_positions"].filter((e=>"SUPER_FLEX"===e)).length,g=t["league.roster_positions"].filter((e=>"TE"===e)).length,y=(null===(a=t["league.scoring_settings"])||void 0===a?void 0:a.bonus_rec_te)||0,h=(e,a,t)=>{var r,s,n;const l="".concat(a.split("-")[1],"-").concat(a.split("-")[2],"-").concat(a.split("-")[0].slice(2,4));return null===(r=d||{})||void 0===r||null===(s=r[l])||void 0===s||null===(n=s[e])||void 0===n?void 0:n[t]},S=e=>{const a=1===e.round?"st":2===e.round?"nd":3===e.round?"rd":"th";return"".concat(e.season," ").concat(e.order>=1&&(e.order<=4?"Early":e.order>=9?"Late":"Mid")||"Mid"," ").concat(e.round).concat(a)};return(0,v.jsx)(s.Z,{type:"trade_summary",headers:[],body:[{id:"title",list:[{text:(0,v.jsxs)("div",{className:"timestamp",children:[(0,v.jsx)("div",{children:new Date(parseInt(t.status_updated)).toLocaleDateString("en-US")}),(0,v.jsx)("div",{children:new Date(parseInt(t.status_updated)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),colSpan:3,className:"small wrap"},{text:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:2===t["league.settings"].type?"Dynasty":1===t["league.settings"].type?"Keeper":"Redraft"}),(0,v.jsx)("div",{children:1===t["league.settings"].best_ball?"Bestball":"Lineup"})]}),colSpan:2,className:"type"},{text:t["league.name"],colSpan:8,image:{src:null===t||void 0===t?void 0:t["league.avatar"],alt:"league avatar",type:"league"},className:"left"},{text:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{children:[u.toString()," QB ",m.toString()," SF"]}),(0,v.jsxs)("div",{children:[g.toString()," TE ",y.toLocaleString("en-US",{maximumFractionDigits:2})," Prem"]})]}),colSpan:3,className:"type"}]},...t.managers.map((e=>{var a;const r=null===(a=t.rosters)||void 0===a?void 0:a.find((a=>a.user_id===e)),s=Object.keys(t.adds||{}).filter((e=>t.adds[e]===(null===r||void 0===r?void 0:r.user_id))).reduce(((e,a)=>e+h(a,n,c)||0),0)+t.draft_picks.filter((e=>e.owner_id===(null===r||void 0===r?void 0:r.roster_id))).reduce(((e,a)=>e+h(S(a),n,c)||0),0),d=Object.keys(t.adds||{}).filter((e=>t.adds[e]===(null===r||void 0===r?void 0:r.user_id))).reduce(((e,a)=>e+h(a,o,c)||h(a,new Date(new Date-864e5).toISOString().split("T")[0],c)||0),0)+t.draft_picks.filter((e=>e.owner_id===(null===r||void 0===r?void 0:r.roster_id))).reduce(((e,a)=>e+h(S(a),o,c)||h(S(a),new Date(new Date-864e5).toISOString().split("T")[0],c)||0),0)-s;return{id:t.transaction_id,list:[{text:(0,v.jsxs)("div",{className:"trade_manager",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"value",children:["KTC -\xa0",s]}),(0,v.jsxs)("p",{className:d>0?"green trend":d<0?"red trend":"trend",style:(0,_.y)(d,1.5),children:[d>0?"+":"",d.toString()]})]}),(0,v.jsx)("div",{children:(0,v.jsxs)("p",{className:"left",children:[(0,v.jsx)(p.Z,{avatar_id:null===r||void 0===r?void 0:r.avatar,alt:"user avatar",type:"user"}),(0,v.jsx)("span",{children:(null===r||void 0===r?void 0:r.username)||"Orphan"})]})})]}),colSpan:5,className:"left trade_manager"},{text:(0,v.jsx)("table",{className:"trade_info",children:(0,v.jsxs)("tbody",{children:[Object.keys(t.adds||{}).filter((e=>t.adds[e]===(null===r||void 0===r?void 0:r.user_id))).map((a=>{var r,s,l,d,u;const p=h(a,o,c)||h(a,new Date(new Date-864e5).toISOString().split("T")[0],c),m=h(a,n,c)||0,g=(p||0)-(m||0);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{colSpan:11,className:"".concat(null!==(r=t.tips)&&void 0!==r&&r.trade_away&&(null===(s=t.tips)||void 0===s||null===(l=s.trade_away)||void 0===l||null===(d=l.find((e=>e.player_id===a)))||void 0===d?void 0:d.manager.user_id)===e?"red left":"left"),children:(0,v.jsx)("p",{children:(0,v.jsxs)("span",{children:["+ ",null===(u=i[a])||void 0===u?void 0:u.full_name]})})}),(0,v.jsx)("td",{className:"value",colSpan:4,children:m.toString()}),(0,v.jsx)("td",{colSpan:4,children:(0,v.jsxs)("p",{className:"stat value",style:(0,_.y)(g,1),children:[g>0?"+":"",g]})})]})})),t.draft_picks.filter((e=>e.owner_id===(null===r||void 0===r?void 0:r.roster_id))).sort(((e,a)=>e.season-a.season||e.round-a.round)).map((a=>{var r,s,i,d,u,p;const m=S(a),g=h(m,o,c)||h(m,new Date(new Date-864e5).toISOString().split("T")[0],c),y=h(m,n,c)||0,f=(g||0)-(y||0);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{colSpan:11,className:"".concat(null!==(r=t.tips)&&void 0!==r&&r.trade_away&&(null===(s=t.tips)||void 0===s||null===(i=s.trade_away)||void 0===i||null===(d=i.find((e=>{var t,r,s;return(null===e||void 0===e||null===(t=e.player_id)||void 0===t?void 0:t.season)===a.season&&(null===e||void 0===e||null===(r=e.player_id)||void 0===r?void 0:r.round)===a.round&&(null===e||void 0===e||null===(s=e.player_id)||void 0===s?void 0:s.order)===a.order})))||void 0===d||null===(u=d.manager)||void 0===u?void 0:u.user_id)===e?"red left":"left"),children:(0,v.jsx)("p",{children:(0,v.jsx)("span",{children:"+ ".concat(a.season," Round ").concat(a.round).concat(a.order&&a.season===l.league_season?".".concat(a.order.toLocaleString("en-US",{minimumIntegerDigits:2})):" (".concat((null===(p=a.original_user)||void 0===p?void 0:p.username)||"Orphan",")"))})})}),(0,v.jsx)("td",{className:"value",colSpan:4,children:y.toString()}),(0,v.jsx)("td",{colSpan:4,children:(0,v.jsxs)("p",{className:"stat value",style:(0,_.y)(f,1),children:[f>0?"+":"",f]})})]})}))]})}),colSpan:7,rowSpan:2,className:"small"},{text:(0,v.jsx)("table",{className:"trade_info",children:(0,v.jsxs)("tbody",{children:[Object.keys(t.drops||{}).filter((e=>t.drops[e]===(null===r||void 0===r?void 0:r.user_id))).map((a=>{var r,s,n,l,d,o;return(0,v.jsx)("tr",{children:(0,v.jsx)("td",{className:"left end"+"".concat(null!==(r=t.tips)&&void 0!==r&&r.acquire&&(null===(s=t.tips)||void 0===s||null===(n=s.acquire)||void 0===n||null===(l=n.find((e=>e.player_id===a)))||void 0===l||null===(d=l.manager)||void 0===d?void 0:d.user_id)===e?"green":""),colSpan:4,children:(0,v.jsx)("p",{children:(0,v.jsx)("span",{className:"end",children:"- ".concat(null===(o=i[a])||void 0===o?void 0:o.full_name).toString()})})})})})),t.draft_picks.filter((e=>e.previous_owner_id===(null===r||void 0===r?void 0:r.roster_id))).sort(((e,a)=>e.season-a.season||e.round-a.round)).map((a=>{var r,s,n,i,d,o;return(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:4,className:"left end "+"".concat(null!==(r=t.tips)&&void 0!==r&&r.acquire&&(null===(s=t.tips)||void 0===s||null===(n=s.acquire)||void 0===n||null===(i=n.find((e=>{var t,r,s;return(null===e||void 0===e||null===(t=e.player_id)||void 0===t?void 0:t.season)===a.season&&(null===e||void 0===e||null===(r=e.player_id)||void 0===r?void 0:r.round)===a.round&&(null===e||void 0===e||null===(s=e.player_id)||void 0===s?void 0:s.order)===a.order})))||void 0===i||null===(d=i.manager)||void 0===d?void 0:d.user_id)===e?"green left":"left"),children:(0,v.jsx)("p",{children:(0,v.jsx)("span",{className:"end",children:"- ".concat(a.season," Round ").concat(a.round).concat(a.order&&a.season===l.league_season?".".concat(a.order.toLocaleString("en-US",{minimumIntegerDigits:2})):" (".concat((null===(o=a.original_user)||void 0===o?void 0:o.username)||"Orphan",")")).toString()})})})})}))]})}),colSpan:4,rowSpan:2,className:"small"}]}}))]})},g=c.memo(m);var y=t(8320),h=t(6268);const S=e=>{var a,t,o,p,_,m,S;let{trades_headers:f,players_list:x,tradeCount:j,secondaryTable:T}=e;const k=(0,r.I0)(),{state:I,values:R}=(0,r.v9)((e=>e.common)),{type1:w,type2:N,user_id:D,leagues:b}=(0,r.v9)((e=>e.user)),{lmTrades:L,trade_date:E,isLoading:A}=(0,r.v9)((e=>e.trades));u();const O="".concat(w,"-").concat(N),F=null!==(a=L.searched_player)&&void 0!==a&&a.id||null!==(t=L.searched_manager)&&void 0!==t&&t.id?(null===(_=L.searches)||void 0===_||null===(m=_.find((e=>e.player===L.searched_player.id&&e.manager===L.searched_manager.id&&e.hash===O&&e.trade_date===E)))||void 0===m?void 0:m.trades)||[]:(null===(o=L.trades)||void 0===o||null===(p=o[O])||void 0===p?void 0:p.trades)||[],C=(0,c.useMemo)((()=>F.sort(((e,a)=>parseInt(a.status_updated)-parseInt(e.status_updated))).slice(25*(L.page-1),25*(L.page-1)+25).flatMap((e=>Object.keys(e.adds)))),[F,L.page]);(0,y.Z)({player_ids:C});const U=(null===F||void 0===F||null===(S=F.sort(((e,a)=>parseInt(a.status_updated)-parseInt(e.status_updated))))||void 0===S?void 0:S.map((e=>{const a=new Date(parseInt(e.status_updated)).toISOString().split("T")[0],t="".concat(a.split("-")[1],"-").concat(a.split("-")[2],"-").concat(a.split("-")[0].slice(2,4)),r=(new Date).toISOString().split("T")[0],s="".concat(r.split("-")[1],"-").concat(r.split("-")[2],"-").concat(r.split("-")[0].slice(2,4));return{id:e.transaction_id,list:[{text:(0,v.jsx)(g,{trade:e,trade_value_date:a}),colSpan:10,className:"small "}],secondary_table:T({league:{rosters:e.rosters,roster_positions:e["league.roster_positions"]},trade:e,trade_value_date:t,current_value_date:s})}})))||[];return A?(0,v.jsx)(h.Z,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"trade_search_wrapper"}),(0,v.jsx)(s.Z,{id:"trades",type:"primary",headers:f,body:U,itemActive:L.itemActive,setItemActive:e=>k(i({lmTrades:{...L,itemActive:e}})),page:L.page,setPage:e=>k(i({lmTrades:{...L,page:e}})),partial:(null===F||void 0===F?void 0:F.length)<j,loadMore:async()=>{console.log("LOADING MORE"),""===L.searched_player&&""===L.searched_manager?k(d(D,b,I.league_season,F.length,125,O,E,!0)):k(((e,a,t,r,s,i,d)=>async(t,o)=>{t({type:"FETCH_TRADES_START"});const c=o(),{user:u}=c;try{const o=await n.Z.post("/trade/leaguemate",{user_id:u.user_id,player:e,manager:a,offset:r,limit:s,type1:i.split("-")[0],type2:i.split("-")[1],trade_date:d}),c=l(o.data.rows,u.leagues);t({type:"FETCH_FILTERED_LMTRADES_SUCCESS",payload:{player:e,manager:a,trades:c,count:o.data.count,hash:i,trade_date:d}})}catch(p){t({type:"FETCH_TRADES_FAILURE",payload:p.message})}})(L.searched_player.id,L.searched_manager.id,I.league_season,F.length,125,O,E))},isLoading:A})]})};var f=t(4813);const x=()=>{const e=(0,r.I0)(),{state:a}=(0,r.v9)((e=>e.common)),{user_id:t,leagues:s,type1:n,type2:l}=(0,r.v9)((e=>e.user)),{trade_date:i,pricecheckTrades:d,isLoading:u}=(0,r.v9)((e=>e.trades));(0,c.useEffect)((()=>{u||!d.pricecheck_player.id||d.searches.find((e=>{var a;return e.pricecheck_player===d.pricecheck_player.id&&(!(null!==(a=d.pricecheck_player2)&&void 0!==a&&a.id)||e.pricecheck_player2===d.pricecheck_player2.id)}))||e(o(d.pricecheck_player.id,d.pricecheck_player2.id,0,125))}),[d.pricecheck_player,u,d.pricecheck_player2,e])},j=e=>{var a,t,n,l;let{trades_headers:d,players_list:u,tradeCount:p,secondaryTable:_}=e;const m=(0,r.I0)(),{isLoading:S,pricecheckTrades:j,trade_date:T}=(0,r.v9)((e=>e.trades));x();const k=(null===(a=j.searches.find((e=>e.pricecheck_player===j.pricecheck_player.id&&e.pricecheck_player2===j.pricecheck_player2.id)))||void 0===a?void 0:a.trades)||[],I=(0,c.useMemo)((()=>k.sort(((e,a)=>parseInt(a.status_updated)-parseInt(e.status_updated))).slice(25*(j.page-1),25*(j.page-1)+25).flatMap((e=>Object.keys(e.adds)))),[k,j.page]);(0,y.Z)({player_ids:I});const R=(null===k||void 0===k||null===(t=k.sort(((e,a)=>parseInt(a.status_updated)-parseInt(e.status_updated))))||void 0===t||null===(n=t.filter((e=>{var a,t,r,s;return(null===(a=new Date(parseInt(e.status_updated)))||void 0===a?void 0:a.toISOString().split("T")[0])<=(null===(t=new Date(T))||void 0===t?void 0:t.toISOString().split("T")[0])&&(null===(r=new Date(parseInt(e.status_updated)))||void 0===r?void 0:r.toISOString().split("T")[0])>=(null===(s=new Date(new Date(T)-6048e5))||void 0===s?void 0:s.toISOString().split("T")[0])})))||void 0===n?void 0:n.map((e=>{const a=new Date(parseInt(e.status_updated)).toISOString().split("T")[0],t="".concat(a.split("-")[1],"-").concat(a.split("-")[2],"-").concat(a.split("-")[0].slice(2,4)),r=(new Date).toISOString().split("T")[0],s="".concat(r.split("-")[1],"-").concat(r.split("-")[2],"-").concat(r.split("-")[0].slice(2,4));return{id:e.transaction_id,list:[{text:(0,v.jsx)(g,{trade:e,trade_value_date:a}),colSpan:10,className:"small "}],secondary_table:_({league:{rosters:e.rosters,roster_positions:e["league.roster_positions"]},trade:e,trade_value_date:t,current_value_date:s})}})))||[];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"trade_search_wrapper",children:[(0,v.jsx)(f.Z,{id:"By Player",placeholder:"Player",list:u,searched:j.pricecheck_player,setSearched:e=>m(i({pricecheckTrades:{...j,pricecheck_player:e}}))}),null!==(l=j.pricecheck_player)&&void 0!==l&&l.id?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(f.Z,{id:"By Player",placeholder:"Player",list:u,searched:j.pricecheck_player2,setSearched:e=>m(i({pricecheckTrades:{...j,pricecheck_player2:e}}))})}):null]}),S?(0,v.jsx)(h.Z,{}):(0,v.jsx)(s.Z,{id:"trades",type:"primary",headers:d,body:R,itemActive:j.itemActive,setItemActive:e=>m(i({pricecheckTrades:{...j,itemActive:e}})),page:j.page,setPage:e=>m(i({pricecheckTrades:{...j,page:e}})),partial:(null===k||void 0===k?void 0:k.length)<p,loadMore:async()=>{console.log("LOADING MORE"),m(i({pricecheckTrades:{...j,page:Math.floor(k.length/25)+1}})),m(o(j.pricecheck_player.id,j.pricecheck_player2.id,k.length,125))},isLoading:S})]})},T=e=>{var a,t,s,n,l,d,o,c;let{secondaryTable:u}=e;const p=(0,r.I0)(),{state:_,allplayers:m}=(0,r.v9)((e=>e.common)),{type1:g,type2:y,leagues:h}=(0,r.v9)((e=>e.user)),{tabPrimary:f,trade_date:x,lmTrades:T,pricecheckTrades:k,isLoading:I}=(0,r.v9)((e=>e.trades)),R="".concat(g,"-").concat(y);let w;switch(f){case"Leaguemate Trades":w=null!==(a=T.searched_player)&&void 0!==a&&a.id||null!==(t=T.searched_manager)&&void 0!==t&&t.id?null===(l=T.searches)||void 0===l||null===(d=l.find((e=>e.player===T.searched_player.id&&e.manager===T.searched_manager.id)))||void 0===d?void 0:d.count:null===(s=T.trades)||void 0===s||null===(n=s[R])||void 0===n?void 0:n.count;break;case"Price Check":const e=(null===(o=k.searches.find((e=>e.pricecheck_player===k.pricecheck_player.id&&e.pricecheck_player2===k.pricecheck_player2.id)))||void 0===o?void 0:o.trades)||[];w=(null===e||void 0===e?void 0:e.count)||0}const N=[];Array.from(Array(4).keys()).map((e=>Array.from(Array(5).keys()).map((a=>0!==e?N.push({id:"".concat(e+parseInt(_.league_season)," ").concat(a+1,".",null),text:"".concat(e+parseInt(_.league_season),"  Round ").concat(a+1),image:{src:null,alt:"pick headshot",type:"player"}}):Array.from(Array(12).keys()).map((t=>N.push({id:"".concat(e+parseInt(_.league_season)," ").concat(a+1,".").concat(0===e?(t+1).toLocaleString("en-US",{minimumIntegerDigits:2}):null),text:"".concat(e+parseInt(_.league_season)," ").concat(0===e?"".concat(a+1,".").concat((t+1).toLocaleString("en-US",{minimumIntegerDigits:2})):" Round ".concat(a+1)),image:{src:null,alt:"pick headshot",type:"player"}})))))));const D={trades_headers:[[{text:"Date",colSpan:3},{text:"League",colSpan:7}]],players_list:h&&[...Array.from(new Set(null===h||void 0===h?void 0:h.map((e=>{var a;return null===(a=e.rosters)||void 0===a?void 0:a.map((e=>e.players))})).flat(3))).map((e=>{var a;return{id:e,text:null===(a=m[e])||void 0===a?void 0:a.full_name,image:{src:e,alt:"player headshot",type:"player"}}})),...N],tradeCount:w};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{children:I?"Loading Trades...":(null===(c=w)||void 0===c?void 0:c.toLocaleString("en-US"))+" Trades"}),(0,v.jsx)("h2",{children:(0,v.jsxs)("select",{value:f,onChange:e=>p(i({tabPrimary:e.target.value})),className:"active click",children:[(0,v.jsx)("option",{children:"Price Check"}),(0,v.jsx)("option",{children:"Leaguemate Trades"})]})}),(0,v.jsxs)("div",{className:"date",children:[(0,v.jsx)("input",{type:"date",value:new Date(x).toISOString().split("T")[0],onChange:e=>p(i({trade_date:new Date(e.target.value.split("T")[0])}))}),"to",(0,v.jsx)("input",{type:"date",value:new Date(new Date(x)-6048e5).toISOString().split("T")[0],onChange:e=>p(i({trade_date:new Date(e.target.value.split("T")[0])}))})]}),"Leaguemate Trades"===f?(0,v.jsx)(S,{...D,secondaryTable:u}):(0,v.jsx)(j,{...D,secondaryTable:u})]})};var k=t(6950);const I=e=>{var a,t,n,l,i,d,o,u;let{trade:p,secondaryTable:_}=e;const{state:m,allplayers:g}=(0,r.v9)((e=>e.common)),{user_id:y}=(0,r.v9)((e=>e.user)),[h,S]=(0,c.useState)(""),f=!(null!==(a=p.tips)&&void 0!==a&&null!==(t=a.acquire)&&void 0!==t&&t.length)>0?[{id:"NONE",list:[{text:"-",colSpan:9}]}]:null===(n=p.tips)||void 0===n||null===(l=n.acquire)||void 0===l?void 0:l.map((e=>{var a,t;return{id:"".concat(e.manager.user_id,"_").concat("player"===e.type?null===(a=g[e.player_id])||void 0===a?void 0:a.full_name:"".concat(e.player_id.season," ")+(e.player_id.season===m.league_season&&e.player_id.order?"".concat(e.player_id.round,".").concat(e.player_id.order.toLocaleString("en-US",{minimumIntegerDigits:2})):e.manager.user_id!==y?"Round ".concat(e.player_id.round," (").concat(e.manager.username,")"):"Round ".concat(e.player_id.round)),"_").concat(e.league.league_id),list:[{text:e.manager.username,colSpan:3,className:"left",image:{src:e.manager.avatar,alt:"manager avatar",type:"user"}},{text:"player"===e.type?null===(t=g[e.player_id])||void 0===t?void 0:t.full_name:"".concat(e.player_id.season," ")+(e.player_id.season===m.league_season&&e.player_id.order?"".concat(e.player_id.round,".").concat(e.player_id.order.toLocaleString("en-US",{minimumIntegerDigits:2})):e.manager.user_id!==y?"Round ".concat(e.player_id.round," (").concat(e.manager.username,")"):"Round ".concat(e.player_id.round)),colSpan:3,className:"left",image:{src:e.player_id,alt:"player headshot",type:"player"}},{text:e.league.name,colSpan:3,className:"left end",image:{src:e.league.avatar,alt:"league avatar",type:"league"}}],secondary_table:""}})),x=!(null!==(i=p.tips)&&void 0!==i&&null!==(d=i.trade_away)&&void 0!==d&&d.length)>0?[{id:"NONE",list:[{text:"-",colSpan:9}]}]:null===(o=p.tips)||void 0===o||null===(u=o.trade_away)||void 0===u?void 0:u.map(((e,a)=>{var t,r;return{id:"".concat(e.manager.user_id,"_").concat("player"===e.type?null===(t=g[e.player_id])||void 0===t?void 0:t.full_name:"".concat(e.player_id.season," ")+(e.player_id.season===m.league_season&&e.player_id.order?"".concat(e.player_id.round,".").concat(e.player_id.order.toLocaleString("en-US",{minimumIntegerDigits:2})):e.manager.user_id!==y?"Round ".concat(e.player_id.round," (").concat(e.manager.username,")"):"Round ".concat(e.player_id.round)),"_").concat(e.league.league_id)+"_".concat(a),list:[{text:e.manager.username,colSpan:3,className:"left",image:{src:e.manager.avatar,alt:"manager avatar",type:"user"}},{text:"player"===e.type?null===(r=g[e.player_id])||void 0===r?void 0:r.full_name:"".concat(e.player_id.season," ")+(e.player_id.season===m.league_season&&e.player_id.order?"".concat(e.player_id.round,".").concat(e.player_id.order.toLocaleString("en-US",{minimumIntegerDigits:2})):e.manager.user_id!==y?"Round ".concat(e.player_id.round," (").concat(e.manager.username,")"):"Round ".concat(e.player_id.round)),colSpan:3,className:"left",image:{src:e.player_id,alt:"player headshot",type:"player"}},{text:e.league.name,colSpan:3,className:"left end",image:{src:e.league.avatar,alt:"league avatar",type:"league"}}],secondary_table:""}}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{type:"secondary",headers:[[{text:"Potential Acquisitions",colSpan:9,className:"half"}],[{text:"Manager",colSpan:3,className:"half"},{text:"Player",colSpan:3,className:"half"},{text:"League",colSpan:3,className:"half"}]],body:f,itemActive:h,setItemActive:S}),(0,v.jsx)(s.Z,{type:"secondary",headers:[[{text:"Potential Flips",colSpan:9,className:"half"}],[{text:"Manager",colSpan:3,className:"half"},{text:"Player",colSpan:3,className:"half"},{text:"League",colSpan:3,className:"half"}]],body:x,itemActive:h,setItemActive:S})]})},R=e=>{let{...a}=e;const t=(0,r.I0)(),{tabSecondary:s}=(0,r.v9)((e=>e.trades));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"secondary nav",children:[(0,v.jsx)("button",{className:"Leads"===s?"active click":"click",onClick:()=>t(i({tabSecondary:"Leads"})),children:"Leads"}),(0,v.jsx)("button",{className:"Rosters"===s?"active click":"click",onClick:()=>t(i({tabSecondary:"Rosters"})),children:"Rosters"})]}),"Rosters"===s?(0,v.jsx)(k.Z,{...a}):(0,v.jsx)(I,{...a})]})},w=e=>{let{...a}=e;return(0,v.jsx)(v.Fragment,{children:"TRADES 3"})},N=()=>(0,v.jsx)(T,{secondaryTable:e=>(0,v.jsx)(R,{...e,secondaryTable:e=>(0,v.jsx)(w,{...e})})})}}]);
//# sourceMappingURL=708.ddaa10d3.chunk.js.map